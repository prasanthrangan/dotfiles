"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[123],{23086:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var i=n(59713),l=n.n(i),a=n(67294),r=n.n(a),o=n(65858),c=n(20657),s=n(70369),d=n(29255),u=n(18864),m=n(15429),b=n(49961),E=n(22250),v=n(52201),g=n(60210),p=n(26610),h=n(80647);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y={page_type:E.V3.PENDING_INVITATION,get title(){return c.ag.get("web-player.blend.group-invite.header")},get subtitle(){return c.ag.get("web-player.blend.duo-invite.description")},get button_text(){return c.ag.get("web-player.blend.invite.button-title")},footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null},O=()=>{var e;const t=(0,g.i)(),{ref:n,breakpoint:i}=(0,v.j)(),{user:l}=(0,o.v9)(d.Gg),E=null!=l&&l.uri?(0,m.C)(null==l?void 0:l.uri):"",f=(e=>w(w({},y),{},{members:[e],footnote:c.ag.get("web-player.blend.group-invite.warning")}))({name:(null==l?void 0:l.display_name)||"",username:E,image_url:(null===(e=(0,b.X)(null==l?void 0:l.images))||void 0===e?void 0:e.url)||null,hash:""});return l?r().createElement(a.Suspense,{fallback:null},r().createElement(s.$,null,c.ag.get("web-player.blend.invite.page-title")),r().createElement(u.ZU.Provider,{value:i},r().createElement(p.H,{invitation:f,callToActionClicked:t,breakpointEltRef:n}))):r().createElement(h.Z,null)}},326:(e,t,n)=>{n.d(t,{l:()=>b});var i=n(67294),l=n.n(i),a=n(28760),r=n(99450),o=n(18864),c=n(16367),s=n(60025);const d={[o.Uo.MEDIUM]:"alto",[o.Uo.LARGE]:"alto",[o.Uo.XLARGE]:"forte"},u={[o.Uo.LARGE]:"ballad",[o.Uo.XLARGE]:"cello"},m={[o.Uo.LARGE]:"viola",[o.Uo.XLARGE]:"viola"},b=({title:e,subtitle:t,body:n,footnote:i,buttonText:b,callToActionClicked:E})=>{const v=(0,o.jh)(),g=v&&d[v]||"canon",p=v&&u[v]||"mesto",h=v&&m[v]||"finale";return l().createElement(l().Fragment,null,l().createElement(a.Dy,{as:"h1",variant:g,semanticColor:"textBase",className:s.Z.title},e),l().createElement(a.Dy,{as:"h2",variant:p,semanticColor:"textSubdued",className:s.Z.subtitle},t),n,E&&l().createElement(r.D,{className:s.Z.button,colorSet:"invertedLight",onClick:E,"data-testid":c.xd},b),i&&l().createElement(a.Dy,{as:"p",variant:h,semanticColor:"textSubdued",className:s.Z.note},i))}},26610:(e,t,n)=>{n.d(t,{H:()=>h});var i=n(67294),l=n.n(i),a=n(91247),r=n(20657),o=n(70369),c=n(38562),s=n(18864);const d="NTT5CathoDEMjrmgfv9y",u="WmmNhmwHDNvDxInfukYO",m=e=>l().createElement("div",{className:d},l().createElement("div",{className:u},l().createElement("svg",{width:e.iconSize,height:e.iconSize,fill:"currentColor",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},l().createElement("path",{d:"M33 31.998v-23h-2v23H8v2h23v23h2v-23h23v-2z"}))));var b=n(326),E=n(16367),v=n(60025);const g={name:"",username:"",image_url:null,hash:""},p={[s.Uo.MEDIUM]:164,[s.Uo.LARGE]:164,[s.Uo.XLARGE]:270},h=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>{var i,d,u,h;const f=!(null===(i=e.members)||void 0===i||!i.length),w=f&&(null===(d=e.members)||void 0===d?void 0:d[0])||e.recipient||g,y=f&&e.recipient||null,O=(0,s.jh)(),_=O&&p[O]||128,A=Math.round(.475*_);return l().createElement("div",{className:(0,a.cx)(v.Z.container,v.Z.TwoUsers),"data-testid":E.xS,ref:n},l().createElement(o.$,null,r.ag.get("blend.invite.page-title")),l().createElement("div",{className:v.Z.facepile},l().createElement(c.q,{label:w.name,images:[{url:null!==(u=w.image_url)&&void 0!==u?u:"",width:_,height:_}],width:_,userIconSize:A}),y?l().createElement(c.q,{label:y.name,images:[{url:null!==(h=y.image_url)&&void 0!==h?h:"",width:_,height:_}],width:_,userIconSize:A,piled:!0}):((e,t)=>l().createElement(c.q,{label:r.ag.get("web-player.blend.invite.button-title"),images:[],width:e,userIconSize:t,customPlaceholder:l().createElement(m,{iconSize:t}),piled:!0}))(_,A)),l().createElement(b.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,buttonText:e.button_text,callToActionClicked:t}))}},16367:(e,t,n)=>{n.d(t,{Eh:()=>r,ab:()=>a,e0:()=>i,xS:()=>l,xd:()=>o});const i="blend-deleted-container",l="blend-two-user-container",a="blend-multi-user-container",r="blend-full-container",o="blend-cta-button"},47474:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var i=n(67294),l=n.n(i),a=n(65858),r=n(52883),o=n(29255),c=n(29634),s=n(80647),d=n(59713),u=n.n(d),m=n(69518),b=n.n(m),E=n(45480),v=n(87577),g=n(20657),p=n(49207),h=n(18864),f=n(48327),w=n(1663),y=n(22250),O=n(52201),_=n(60210),A=n(26529),I=n(22093);var N=n(21452),D=n(326),T=n(16367),k=n(60025);const x=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>l().createElement("div",{className:k.Z.container,"data-testid":T.Eh,ref:n},l().createElement(N.Z,{iconSize:64}),l().createElement(D.l,{title:e.title,subtitle:e.subtitle,buttonText:e.button_text,footnote:null,callToActionClicked:t}));var R=n(70369),U=n(94184),L=n.n(U),P=n(28760),M=n(38562),j=n(18261),C=n(43480),S=n(67892);const Z="HKAYWYmxd5Ie8WSi0a4y",Y="i52u_T3b50wraodIaORk",B="xakiNVMlUf6geF67FEgy",V="IRhTesoeIiwswlly0Dvg",G="LNJzE17iskXWmfKAzY4U",X="qzBr7X7cdLUhWdk0r8lL",z=({uri:e,imageUrl:t,name:n})=>l().createElement("li",null,l().createElement(j._,{menu:l().createElement(C.I,{uri:e})},l().createElement(S.r,{to:e},l().createElement("div",{className:V},l().createElement(M.q,{images:[{url:t,width:null,height:null}],label:n,width:32,userIconSize:24,className:G}),l().createElement(P.Dy,{variant:"violaBold",className:"standalone-ellipsis-one-line",semanticColor:"textBase"},n))))),W=({members:e,headingText:t,className:n})=>l().createElement("div",{className:L()(Z,n)},l().createElement("div",null,l().createElement(P.Dy,{as:"h4",variant:"minuetBold",semanticColor:"textSubdued",className:Y},t)),l().createElement("ul",{className:B},e&&e.map((e=>l().createElement(z,{imageUrl:e.image_url||"",name:e.name,uri:b().profileURI(e.username).toURI(),key:e.username})))),l().createElement("div",{className:X})),q=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>{const i=e.members||[],a=l().createElement("div",{className:k.Z.userListContainer,"data-testid":T.ab},l().createElement(W,{className:k.Z.userList,headingText:e.members_title,members:i}));return l().createElement("div",{className:k.Z.container,ref:n},l().createElement(R.$,null,g.ag.get("blend.join.title")),l().createElement(D.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,body:a,buttonText:e.button_text,callToActionClicked:t}))};var H=n(26610);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const F=({invitationId:e})=>{var t,n;const i=(0,r.k6)(),a=(0,v.W6)(p.c$),{data:o,error:c,loading:s}=(0,f.J)(y.oN,[e]),d=(0,_.i)(),u=function(e){const t=(0,I.k)(),n=(0,r.k6)();return async()=>{try{const t=await(0,y.nW)(A.b.getInstance(),e),i=b().from(null==t?void 0:t.body.playlist_uri).toURLPath(!0);if(!i)throw new Error("unable to join");n.replace(i)}catch{t(g.ag.get("error.request-playlist-failure"))}}}(e),{ref:m,breakpoint:N}=(0,O.j)(),R=null===o||!o.body;if(R||s||c)return l().createElement(w.h,{timeoutInMs:1e3,hasError:!!c||!s&&R,errorMessage:g.ag.get("error.generic")});const U=null===(t=b().from(null==o?void 0:o.body.playlist_uri))||void 0===t?void 0:t.toURLPath(!0),L=(null==o||null===(n=o.body.members)||void 0===n?void 0:n.length)||0,P=a===p.rS.TWO_USER;switch(null==o?void 0:o.body.page_type){case y.V3.DELETED:return l().createElement(h.ZU.Provider,{value:N},l().createElement("div",{className:k.Z.container,ref:m,"data-testid":T.e0},l().createElement(E.F,{iconSize:64}),l().createElement(D.l,{title:o.body.title,subtitle:o.body.subtitle,buttonText:o.body.button_text,footnote:o.body.footnote,callToActionClicked:d})));case y.V3.ALREADY_JOINED:return U&&i.replace(U),l().createElement(w.h,{hasError:!1,errorMessage:g.ag.get("error.request-playlist-failure")});case y.V3.READY_TO_JOIN_EMPTY_BLEND:return l().createElement(h.ZU.Provider,{value:N},l().createElement(H.H,{invitation:o.body,breakpointEltRef:m,callToActionClicked:u}));case y.V3.READY_TO_JOIN_ALREADY_CREATED_BLEND:return P&&L>=2?l().createElement(h.ZU.Provider,{value:N},l().createElement(x,{invitation:K(K({},o.body),{},{title:g.ag.get("blend.link-invialid.header"),subtitle:g.ag.get("blend.link-invalid.subtitle"),button_text:g.ag.get("blend.invite.button-title")}),callToActionClicked:d,breakpointEltRef:m})):l().createElement(h.ZU.Provider,{value:N},l().createElement(q,{invitation:o.body,callToActionClicked:u,breakpointEltRef:m}));case y.V3.MAX_MEMBERS:return l().createElement(h.ZU.Provider,{value:N},l().createElement(x,{invitation:o.body,callToActionClicked:d,breakpointEltRef:m}));case y.V3.PENDING_INVITATION:return l().createElement(h.ZU.Provider,{value:N},l().createElement(H.H,{invitation:o.body,callToActionClicked:d,breakpointEltRef:m}));default:return l().createElement(w.h,{timeoutInMs:1e3,hasError:!0,errorMessage:g.ag.get("error.generic")})}},$=({invitationId:e})=>{const{user:t}=(0,a.v9)(o.Gg);return t?l().createElement(c.n,{fallback:null},l().createElement(F,{invitationId:e})):l().createElement(s.Z,null)},Q=l().memo((()=>l().createElement($,(0,r.UO)())))},80647:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>{const e=window.location.href;return window.location.href=`https://accounts.spotify.com/login?continue=${encodeURIComponent(e)}`,null}},22250:(e,t,n)=>{n.d(t,{Ag:()=>o,V3:()=>l,nW:()=>r,oN:()=>a});var i=n(16516);let l;!function(e){e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED"}(l||(l={}));const a=(e,t)=>e.build().withHost(i.cM).withPath(`/v3/view-invitation/${encodeURIComponent(t)}`).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send(),r=(e,t)=>e.build().withHost(i.cM).withMethod("PUT").withPath(`/v2/join/${encodeURIComponent(t)}`).withEndpointIdentifier("join/{invitationId}").send(),o=e=>e.build().withHost(i.cM).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()},52201:(e,t,n)=>{n.d(t,{j:()=>a});var i=n(82144),l=n(53052);const a=()=>(0,l.D)({[i.U.SMALL]:536,[i.U.MEDIUM]:792,[i.U.LARGE]:1048,[i.U.XLARGE]:1688})},60210:(e,t,n)=>{n.d(t,{i:()=>d});var i=n(65858),l=n(20657),a=n(26529),r=n(25853),o=n(29255),c=n(22250),s=n(22093);function d(){const{user:e}=(0,i.v9)(o.Gg),t=(0,s.k)();return async()=>{try{var n,i,o;const s=await(0,c.Ag)(a.b.getInstance());if(!(null===(n=s.body)||void 0===n?void 0:n.invite))throw new Error("unable to generate invite link");const d=null!=e&&e.display_name?l.ag.get("blend.invite.body-with-name",e.display_name,null===(i=s.body)||void 0===i?void 0:i.invite):l.ag.get("blend.invite.body-without-name",null===(o=s.body)||void 0===o?void 0:o.invite);(0,r.v)(d),t(l.ag.get("feedback.link-copied"))}catch{t(l.ag.get("error.generic"))}}}},22093:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(65858),l=n(8475),a=n(63826);const r=()=>{const e=(0,i.I0)();return t=>(0,a.T)({hide:()=>e((0,l.Xe)()),show:()=>e((0,l.TB)(t))})}},60025:(e,t,n)=>{n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
//# sourceMappingURL=xpui-routes-blend.js.map