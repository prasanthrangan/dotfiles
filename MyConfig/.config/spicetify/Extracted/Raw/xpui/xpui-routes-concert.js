"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[288],{46145:(e,t,a)=>{a.d(t,{k:()=>N});var n=a(67294),r=a.n(n),c=a(9414),l=a(87722),i=a(28760),s=a(67892),o=a(94880),m=a(43315),g=a(9339);const u="wedRUk4eiBo9n9vqXLhU",d="HYVIJaYYiCTgSCHie70L",h="InXSbaoh8emJn09fWs3U",E="SPbe_Q1wtiZQCmo0QKUy",y="TRp4tgG7_cymGIXDevIP",b="tC1Y_nwyyly7cpIGqF5K",v="gY_xUHOSpAn6TPdU23t7",p="l93AfoV_qHnMQSQBB5GK",_="MTTf1Lotynwu3QKhr9uY",f="EkGb0ZzhswreSvpZoioY",N=r().memo((e=>{const{entity:t,isVirtual:a,shouldCombineRecs:n}=e,{venue:{name:N,location:{name:k}}}=t,C=t.artists[0],D=(0,g.ij)(t),I=new Date(t.date.isoString),w=a?c.F:l.n;return r().createElement(s.r,{to:`/concert/${t.id}`,className:u},C.imageUri?r().createElement(o.Z,null,r().createElement("div",{"data-testid":"image-container",className:f,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${C.imageUri})`}})):null,r().createElement("time",{className:d,dateTime:t.date.isoString},r().createElement(i.Dy,{as:"h5",variant:"minuetBold",className:h},`${(0,g.lJ)(I)} ${I.getDate()}`)),r().createElement("div",{className:E,dir:"auto"},r().createElement(i.Dy,{as:"h2",className:_,variant:"minuetBold"},(0,m.FO)(I)," • ",(0,g.b8)(I)),r().createElement(i.Dy,{as:"h2",variant:"cello",weight:"bold",className:y},D),r().createElement("div",{className:b},n?r().createElement(w,{className:v,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,r().createElement(i.Dy,{as:"h2",className:p,variant:"mesto","data-testid":"location-name"},a?N:`${N}, ${k}`))))}))},49158:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ve});var n=a(67294),r=a.n(n),c=a(65858),l=a(52883),i=a(20657),s=a(6581),o=a(1663),m=a(50458),g=a(67154),u=a.n(g),d=a(28760),h=a(99450),E=a(95661),y=a(3634),b=a(30005),v=a(42922),p=a(57612),_=a(21366);const f=r().memo((({uri:e})=>r().createElement(v.ZP,{value:"concert"},r().createElement(b.v,null,r().createElement(_.q,null,r().createElement(p.Jx,{uri:e,displayText:i.ag.get("context-menu.copy-concert-link")}),r().createElement(p.W2,{uri:e})),r().createElement(p.h$,{uri:e})))));var N=a(70369),k=a(42273),C=a(59482),D=a(72907),I=a(67892),w=a(19480),U=a(56802),L=a(51574),$=a(94184),Q=a.n($);const x={button:"main-buttons-button","button-primary":"main-button-primary","button-secondary":"main-button-secondary","button-outlined":"main-button-outlined","button-tertiary":"main-button-tertiary","btn-block":"main-btn-block"},P=(0,n.forwardRef)(((e,t)=>r().createElement("button",{ref:t,id:e.id,className:Q()(x.button,x[`button-${e.version}`],e.className,{[x["btn-block"]]:e.block}),type:"button",onClick:e.onClick,disabled:e.disabled,"aria-label":e.ariaLabel,"aria-hidden":e.standalone,"data-testid":e.testID,title:e.title},e.children)));P.defaultProps={onClick:()=>{}};var T=a(20246),Y=a(31595),Z=a(78688),H=a(34722),O=a(9339),S=a(94880);const G="e0VN3GmM25lCYyAIWjim",J="uPLqiz_BFUytfHNLP5zN",K="LJ8tzLtEEECRuUQv87nE",R="tR6GHIdHN3D9ZRuLo1gd",j="T_IWs9HLesaBWiylLaox",z="KPIfiziXg8ByZ0elFPx9",X=r().memo((e=>{const{entity:t,headliner:a}=e,{imageUri:n,name:c,uri:l}=t;return r().createElement(I.r,{to:l,className:G},n?r().createElement(S.Z,null,r().createElement("div",{"data-testid":"image-container",className:z,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${n})`}})):null,r().createElement("div",{className:J},a&&r().createElement("div",{className:R},r().createElement(d.Dy,{as:"h4",variant:"minuet",className:j,weight:"bold"},i.ag.get("concert.label.headliner"))),r().createElement(d.Dy,{as:"h2",variant:"alto",className:K},c)))}));var q=a(46145);const A={concertsHubCard:"aX5g9MgOPCph10dhugIm",metadata:"qJIbuz2sOfyiYjXqKwHX",title:"OaZRJG9iMNJZ4pcWi7cx",image:"HKMt7en7H2xbp3cXFP3k"},B=r().memo((()=>r().createElement(I.r,{to:"spotify:concerts",className:A.concertsHubCard},r().createElement(S.Z,null,r().createElement("div",{className:A.image,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})),r().createElement("div",{className:A.metadata},r().createElement(d.Dy,{as:"h2",variant:"canon",className:A.name},i.ag.get("concerts_browse_more")))))),W="rgHpYneRuCLsOyfmI2jF",F="lr40ubW1eB4EezYzf313",M="XQIbZRhBVDxK2jEcGfeS",V="RJhxchVqiOAPQKl6EUU7",ee="sOKlgL5TzQ2p74aQFjRh",te="u3QEyws6_AhQuuMCDgMC",ae="WKrdOaRnI9VfK1UYUqvT",ne="iDNjiw4UyGIGE35DQd3G",re="xg44vjCq8vt2GgkLZO4C",ce="fx2QSS_X73SV30r0fQOI",le="XXABme7Q0el8rITiSDHg",ie="Cc4TFd0C5345deatsGJ0",se="WFYjBxC2n1dvj6wvcpqk",oe="IgugoubNHrWe50NJKajx",me="TfyNLJsVXqn4J_NaO810",ge=e=>{const t=new Date(Date.parse(e.date));return r().createElement("div",{className:W},r().createElement(d.Dy,{as:"h3",variant:"canon",className:F},(0,O.NL)(t)))},ue=e=>{const{clickThrus:t,ticketing:a,date:n,venue:c,location:l,clickThruUrl:s,id:o,category:m,lat:g,lon:u,ticketAvailabilityTranslated:y}=e,b=new Date(Date.parse(n)),v=`spotify:concert:${o}`,p="ONLINE"===m,_=(0,U.o)();let N="";if(!t||!t.length)return null;const k=t[0].partnerDisplayName;N="Songkick"===k?i.ag.get("concert.header.partner_songkick_attribution",k):a&&a[0]&&a[0].minPrice?i.ag.get("concert.header.partner_price_attribution",a[0].minPrice,k):i.ag.get("concert.header.partner_attribution",k),p&&(N=i.ag.get("concert_available_through",k));const C=p?i.ag.get("concert_find_virtual_event"):i.ag.get("concert.button.see_tickets");if((0,O.O1)(b))return r().createElement("div",{className:ae},r().createElement(d.Dy,{as:"h3",variant:"canon"},i.ag.get("concert_event_ended")),r().createElement(d.Dy,{variant:"ballad"},r().createElement(I.Z,{to:"spotify:concerts"},i.ag.get("concert_past_message"))));return r().createElement("div",{className:ae},r().createElement(d.Dy,{as:"h3",variant:"canon"},(()=>{if(p)return r().createElement(d.Dy,{as:"h3",variant:"canon"},c);const e=`https://maps.google.com/?q=${encodeURIComponent(`${c},${l}`)}&ll=${g},${u}`;return r().createElement(I.Z,{to:e,target:"_blank"},r().createElement(d.Dy,{as:"h3",variant:"canon"},`${c}, ${l}`))})()),r().createElement(d.Dy,{as:"h3",variant:"mesto",className:me},(0,O.Ms)(b)," • ",(0,O.b8)(b)),r().createElement(d.Dy,{as:"h3",className:te,variant:"mesto"},N),y&&y.length>0&&r().createElement(d.Dy,{as:"h3",className:te,variant:"mesto"},y),r().createElement("div",{className:ne},r().createElement(h.D,{colorSet:"invertedLight",draggable:!1,className:re,href:s,target:"_blank",onClick:function(){_({targetUri:v,intent:"find-concert",type:"click"})}},C),r().createElement(T.y,{menu:r().createElement(f,{uri:v})},r().createElement(E.z,{size:32,className:ce}))))},de=e=>{const{albums:t,artists:a}=e,n=t.reduce(((e,t)=>{const a=t.artistName;return e[a]?e[a].push(t):e[a]=[t],e}),{});return r().createElement("div",{className:le},a.map(((e,t)=>{const a=n[e.name]||[],c=a.length+2;let l=a.map(((t,a)=>r().createElement(y.r,u()({index:a,key:a},((e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,sharingInfo:null,type:Z.albumType.ALBUM}))(t,e.uri)))));return l=[null,r().createElement(X,{entity:e,headliner:0===t,key:`ConcertArtistCard-${e.id}`})].concat(l),r().createElement(v.ZP,{value:"headered-grid",index:t,key:t},r().createElement(w.P,{title:0===t?i.ag.get("concert_lineup"):"",total:c,seeAllUri:`${(0,H.GJ)(e.id)}:discography`,seeAllLabel:i.ag.get("artist-page.show-discography")},l))})))},he=e=>{const t=e.upcomingConcerts;if(!t||t.length<1)return null;const a=t.map((e=>r().createElement(q.k,{entity:e,key:e.id})));return r().createElement("div",{className:oe},r().createElement(v.ZP,{value:"headered-grid"},r().createElement(w.P,{title:i.ag.get("concerts_more_events"),total:t.length+1},r().createElement(B,null),a)))},Ee=e=>{const{concert:t,upcomingConcerts:a,artists:n,albums:c,color:l,headerImageUri:s,ticketAvailabilityTranslated:o}=e.concert,m=[{url:s,width:100,height:100}];(0,Y.Y)(l);const g=(0,U.o)();const d="ONLINE"===t.category?i.ag.get("concert_find_virtual_event"):i.ag.get("concert.button.see_tickets");return r().createElement("section",{className:V},r().createElement(N.$,null,(0,O.Yl)(t)),r().createElement(k.gF,{backgroundImages:m,backgroundColor:l},r().createElement(k.sP,null,r().createElement(k.T0,null,r().createElement(ge,t)),r().createElement(k.xd,null,(0,O.Yl)(t))),r().createElement(C.W,null,r().createElement("div",{className:ie},r().createElement(D.i,{text:(0,O.Yl)(t)}),r().createElement(I.Z,{draggable:!1,className:re,to:t.clickThruUrl,target:"_blank"},r().createElement(P,{version:"secondary",className:se,onClick:function(){g({targetUri:`spotify:concert:${t.id}`,intent:"find-concert",type:"click"})}},d))))),r().createElement("div",{className:M},r().createElement(L.I,{backgroundColor:l}),r().createElement("div",{className:ee},r().createElement(ue,u()({},t,{ticketAvailabilityTranslated:o})),r().createElement(de,{artists:n,albums:c}),r().createElement(he,{upcomingConcerts:a}))))},ye=r().memo(Ee),be=r().memo((()=>{const{concertId:e}=(0,l.UO)(),t=(0,c.I0)(),a=`spotify:concert:${e}`,g=(0,c.v9)((e=>(0,m.y)(a,e)));return(0,n.useEffect)((()=>{t((0,s.l$)(e))}),[t,e]),g?r().createElement(ye,{concert:g}):r().createElement(o.h,{hasError:!1,errorMessage:i.ag.get("concert.error.concert_not_found_title")})})),ve=be},9339:(e,t,a)=>{a.d(t,{Ms:()=>r,NL:()=>i,O1:()=>o,Yl:()=>u,b8:()=>c,cd:()=>s,ij:()=>d,lJ:()=>l});var n=a(20657);const r=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),l=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),i=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),s=e=>n.ag.formatDate(e,{weekday:"short"}),o=e=>e<new Date,m={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},g=(e,t)=>{const a=m[t],n=(e=>{try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},u=e=>g(e,"row"),d=e=>g(e,"entity")},50458:(e,t,a)=>{function n(e,t){return t.concerts.all[e]||null}a.d(t,{y:()=>n})},34722:(e,t,a)=>{a.d(t,{B$:()=>l,GJ:()=>r,Hr:()=>n,qo:()=>c});const n=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],r=e=>`spotify:app:artist:${e}`,c=e=>`spotify:artist:${e}`,l=(e,t,a)=>{var n,r;return{artists:[{uri:t,name:a}],images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,uri:e.uri,year:null===(r=e.date)||void 0===r?void 0:r.year,type:e.type,sharingInfo:e.sharingInfo}}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map