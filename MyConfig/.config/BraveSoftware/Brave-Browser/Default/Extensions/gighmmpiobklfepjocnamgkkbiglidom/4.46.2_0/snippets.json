{"injectedCode":"/**\n * This file is part of Adblock Plus <https://adblockplus.org/>,\n * Copyright (C) 2006-present eyeo GmbH\n *\n * Adblock Plus is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * Adblock Plus is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";let ABP=getABPNamespace();let{context:context,utils:utils,DOM:DOM,securedWindow:securedWindow,securedClasses:securedClasses,environmentVariables:environmentVariables}=ABP;function getABPNamespace(){let{Object:e}=window;let{assign:t,defineProperty:r,freeze:o,getOwnPropertyDescriptor:n,values:i}=window.Object;let{getComputedStyle:s,setInterval:l,setTimeout:a,performance:p}=window;let u=typeof chrome===\"object\"&&typeof chrome.runtime!==\"undefined\";let c=typeof browser===\"object\"&&typeof browser.runtime!==\"undefined\";let d={isExtensionContext:u||c};if(d.isExtensionContext)d.chrome=u?chrome:browser;let f=(e,t=[])=>{let i=new e(...t);for(let t of Reflect.ownKeys(e.prototype))r(i,t,n(e.prototype,t));return o(i)};let y=e=>{if(d.isExtensionContext)return e;class t extends e{}let o=e.prototype;let i=t.prototype;for(let e of Reflect.ownKeys(o)){let t=n(o,e);t.configurable=false;if(t.writable)t.writable=false;r(i,e,t)}return t};let g=e=>Function.call.bind(e);let h=(e,t)=>{let r=n(e,t);return r&&r.get?g(r.get):e=>e[t]};let m=(e,t)=>{let r=n(e,t);return r&&r.set?g(r.set):(e,r)=>e[t]=r};return o({context:o({webext:d}),utils:o({Object:o({assign:t.bind(e),defineProperty:r.bind(e),getOwnPropertyDescriptor:n.bind(e),values:(i||function(e){return this.keys(e).map((t=>e[t]))}).bind(e),hasOwnProperty:g(e.prototype.hasOwnProperty),self:e}),Math:{floor:Math.floor.bind(Math),random:Math.random.bind(Math),ceil:Math.ceil.bind(Math)},String:{replace:g(String.prototype.replace),substring:g(String.prototype.substring),indexOf:g(String.prototype.indexOf),slice:g(String.prototype.slice),includes:g(String.prototype.includes),split:g(String.prototype.split),match:g(String.prototype.match),repeat:g(String.prototype.repeat),trim:g(String.prototype.trim),startsWith:g(String.prototype.startsWith),endsWith:g(String.prototype.endsWith)},Array:{push:g(Array.prototype.push),unshift:g(Array.prototype.unshift),pop:g(Array.prototype.pop),some:g(Array.prototype.some),filter:g(Array.prototype.filter),map:g(Array.prototype.map),join:g(Array.prototype.join),sort:g(Array.prototype.sort),forEach:g(Array.prototype.forEach),reduce:g(Array.prototype.reduce),from:Array.from.bind(Array),apply:Array.apply.bind(Array)},Function:{apply:g(Function.prototype.apply),call:g(Function.prototype.call),bind:g(Function.prototype.bind),toString:g(Function.prototype.toString)},Number:{toString:g(Number.prototype.toString)},console:{log:console.log.bind(console),dir:console.dir.bind(console),groupCollapsed:console.groupCollapsed.bind(console),groupEnd:console.groupEnd.bind(console)},JSON:{parse:JSON.parse.bind(JSON),self:JSON},MutationRecord:{getAddedNodes:h(MutationRecord.prototype,\"addedNodes\"),getTarget:h(MutationRecord.prototype,\"target\")},EventTarget:{prototype:EventTarget.prototype,addEventListener:g(EventTarget.prototype.addEventListener),dispatchEvent:g(EventTarget.prototype.dispatchEvent)},RegExp:{test:g(RegExp.prototype.test)},URLSearchParams:{delete:g(URLSearchParams.prototype.delete)},ImageData:{getWidth:h(ImageData.prototype,\"width\"),getHeight:h(ImageData.prototype,\"height\"),getData:h(ImageData.prototype,\"data\")},Promise:{then:g(Promise.prototype.then),catch:g(Promise.prototype.catch)},XPathExpression:{evaluate:g(XPathExpression.prototype.evaluate)},XPathResult:{getSnapshotLength:h(XPathResult.prototype,\"snapshotLength\"),snapshotItem:g(XPathResult.prototype.snapshotItem)}}),securedWindow:o({getComputedStyle:s.bind(window),setInterval:l.bind(window),setTimeout:a.bind(window),clearInterval:clearInterval.bind(window),clearTimeout:clearTimeout.bind(window),performance:p,fetch:window.fetch,getWindowFrames:()=>h(window,\"frames\")(window),getOnerror:()=>h(window,\"onerror\")(window),setOnerror:e=>m(window,\"onerror\")(window,e),parseFloat:parseFloat.bind(window),parseInt:parseInt.bind(window),isNaN:isNaN.bind(window)}),DOM:o({CSSStyleDeclaration:{setProperty:g(CSSStyleDeclaration.prototype.setProperty),getPropertyValue:g(CSSStyleDeclaration.prototype.getPropertyValue),getPropertyPriority:g(CSSStyleDeclaration.prototype.getPropertyPriority)},Node:{ELEMENT_NODE:Node.ELEMENT_NODE,TEXT_NODE:Node.TEXT_NODE,getParentNode:h(Node.prototype,\"parentNode\"),getParentElement:h(Node.prototype,\"parentElement\"),getTextContent:h(Node.prototype,\"textContent\"),setTextContent:m(Node.prototype,\"textContent\"),getNodeType:h(Node.prototype,\"nodeType\"),getChildNodes:h(Node.prototype,\"childNodes\"),getNodeValue:h(Node.prototype,\"nodeValue\"),prototype:Node.prototype},Element:{matches:g(Element.prototype.matches),attachShadow:g(Element.prototype.attachShadow),closest:g(Element.prototype.closest),getOuterHTML:h(Element.prototype,\"outerHTML\"),getAttributes:h(Element.prototype,\"attributes\"),prototype:Element.prototype,getAttribute:g(Element.prototype.getAttribute),querySelector:g(Element.prototype.querySelector),getTagName:h(Element.prototype,\"tagName\")},Document:{getBody:h(Document.prototype,\"body\"),getCurrentScript:h(Document.prototype,\"currentScript\"),getImages:h(Document.prototype,\"images\"),createElement:g(Document.prototype.createElement),getElementById:g(Document.prototype.getElementById),getCookie:h(Document.prototype,\"cookie\"),setCookie:m(Document.prototype,\"cookie\"),$$:document.querySelectorAll.bind(document)},HTMLElement:{getStyle:h(HTMLElement.prototype,\"style\"),getInnerText:h(HTMLElement.prototype,\"innerText\"),prototype:HTMLElement.prototype},HTMLScriptElement:{self:HTMLScriptElement,getSrc:h(HTMLScriptElement.prototype,\"src\")},HTMLImageElement:{getSrc:h(HTMLImageElement.prototype,\"src\")},HTMLCanvasElement:{getContext:g(HTMLCanvasElement.prototype.getContext),setWidth:m(HTMLCanvasElement.prototype,\"width\"),setHeight:m(HTMLCanvasElement.prototype,\"height\")},CanvasRenderingContext2D:{drawImage:g(CanvasRenderingContext2D.prototype.drawImage),getImageData:g(CanvasRenderingContext2D.prototype.getImageData)},NodeList:{forEach:g(NodeList.prototype.forEach)},Attr:{getValue:h(Attr.prototype,\"value\"),getName:h(Attr.prototype,\"name\")}}),environmentVariables:{frozen:f(WeakMap),shadows:f(WeakMap),hidden:f(WeakSet),iframePropertiesToAbort:{read:f(Set),write:f(Set)},abortedIframes:f(WeakMap)},securedClasses:o({MutationObserver:y(MutationObserver),DOMParser:y(DOMParser),Set:y(Set),Array:y(Array),RegExp:y(RegExp),ReferenceError:y(ReferenceError),Error:y(Error),URL:y(URL),WeakSet:y(WeakSet),MouseEvent:y(MouseEvent),Image:y(Image),Uint8Array:y(Uint8Array),Map:y(Map),XPathEvaluator:y(XPathEvaluator)})})}const noopProfile={mark(){},end(){},toString(){return\"{mark(){},end(){}}\"}};function profile(e,t=10){return noopProfile}let debugging=false;function debug(){return debugging}function setDebug(){debugging=true}function log(...e){let{mark:t,end:r}=profile();if(debug())utils.Array.unshift(e,\"%c DEBUG\",\"font-weight: bold\");t();utils.console.log(...e);r()}let{RegExp:RegExp$1}=securedClasses;function regexEscape(e){return utils.String.replace(e,/[-/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function toRegExp(e){if(e.length>=2&&e[0]==\"/\"&&e[e.length-1]==\"/\")return new RegExp$1(utils.String.substring(e,1,e.length-1));return new RegExp$1(regexEscape(e))}function randomId(){return utils.Number.toString(utils.Math.floor(utils.Math.random()*2116316160+60466176),36)}let{getOnerror:getOnerror,setOnerror:setOnerror,getWindowFrames:getWindowFrames,parseFloat:parseFloat$1}=securedWindow;let{Set:Set$1,Array:Array$1,ReferenceError:ReferenceError$3,Error:Error$7}=securedClasses;function wrapPropertyAccess(e,t,r){let o=utils.String.indexOf(t,\".\");if(o==-1){let o=utils.Object.getOwnPropertyDescriptor(e,t);if(o&&!o.configurable)return;let n=utils.Object.assign({},r,{configurable:true});if(!o&&!n.get&&n.set){let r=e[t];n.get=()=>r}utils.Object.defineProperty(e,t,n);return}let n=utils.String.slice(t,0,o);t=utils.String.slice(t,o+1);let i=e[n];if(i&&(typeof i==\"object\"||typeof i==\"function\"))wrapPropertyAccess(i,t,r);let s=utils.Object.getOwnPropertyDescriptor(e,n);if(s&&!s.configurable)return;let l=e=>{i=e;if(e&&(typeof e==\"object\"||typeof i==\"function\"))wrapPropertyAccess(e,t,r)};utils.Object.defineProperty(e,n,{get:()=>i,set:l,configurable:true})}function overrideOnError(e){let t=getOnerror();setOnerror(((r,...o)=>{if(typeof r==\"string\"&&utils.String.includes(r,e))return true;if(typeof t==\"function\")return utils.Function.call(t,this,r,...o)}))}function abortOnRead(e,t,r){let o=utils.Function.bind(debug()?log:()=>{},null,e);if(!r){o(\"no property to abort on read\");return}let n=randomId();function i(){o(`${r} access aborted`);throw new ReferenceError$3(n)}o(`aborting on ${r} access`);wrapPropertyAccess(t,r,{get:i,set(){}});overrideOnError(n)}function abortOnWrite(e,t,r){let o=utils.Function.bind(debug()?log:()=>{},null,e);if(!r){o(\"no property to abort on write\");return}let n=randomId();function i(){o(`setting ${r} aborted`);throw new ReferenceError$3(n)}o(`aborting when setting ${r}`);wrapPropertyAccess(t,r,{set:i});overrideOnError(n)}function abortOnIframe(e,t=false,r=false){let o=environmentVariables.abortedIframes;let n=environmentVariables.iframePropertiesToAbort;for(let n of Array$1.from(getWindowFrames())){if(o.has(n)){for(let i of e){if(t)o.get(n).read.add(i);if(r)o.get(n).write.add(i)}}}for(let o of e){if(t)n.read.add(o);if(r)n.write.add(o)}i();if(!o.has(document)){o.set(document,true);addHooksOnDomAdditions(i)}function i(){for(let e of Array$1.from(getWindowFrames())){if(!o.has(e)){o.set(e,{read:new Set$1(n.read),write:new Set$1(n.write)})}let t=o.get(e).read;if(t.size>0){let r=Array$1.from(t);t.clear();for(let t of r)abortOnRead(\"abort-on-iframe-property-read\",e,t)}let r=o.get(e).write;if(r.size>0){let t=Array$1.from(r);r.clear();for(let r of t)abortOnWrite(\"abort-on-iframe-property-write\",e,r)}}}}function addHooksOnDomAdditions(e){let t;let r={prototype:DOM.Node.prototype};let o={prototype:DOM.Element.prototype};n(r.prototype,[\"appendChild\",\"insertBefore\",\"replaceChild\"]);n(o.prototype,[\"append\",\"prepend\",\"replaceWith\",\"after\",\"before\",\"insertAdjacentElement\",\"insertAdjacentHTML\"]);t=s(o.prototype,\"innerHTML\");wrapPropertyAccess(o.prototype,\"innerHTML\",t);t=s(o.prototype,\"outerHTML\");wrapPropertyAccess(o.prototype,\"outerHTML\",t);function n(e,t){for(let r of t){let t=i(e,r);wrapPropertyAccess(e,r,t)}}function i(t,r){let o=t[r];return{get(){return function(...t){let r;r=utils.Function.apply(o,this,t);e&&e();return r}}}}function s(t,r){let o=utils.Object.getOwnPropertyDescriptor(t,r);let{set:n}=o||{};return{set(t){let r;r=utils.Function.call(n,this,t);e&&e();return r}}}}function findOwner(e,t){if(!(e instanceof utils.Object.self))return;let r=e;let o=utils.String.split(t,\".\");if(o.length===0)return;for(let e=0;e<o.length-1;e++){let t=o[e];if(!utils.Object.hasOwnProperty(r,t))return;r=r[t];if(!(r instanceof utils.Object.self))return}let n=o[o.length-1];if(utils.Object.hasOwnProperty(r,n))return[r,n]}function overrideValue(e){let t;if(e===\"false\"){t=false}else if(e===\"true\"){t=true}else if(e===\"null\"){t=null}else if(e===\"noopFunc\"){t=()=>{}}else if(e===\"trueFunc\"){t=()=>true}else if(e===\"falseFunc\"){t=()=>false}else if(e===\"emptyArray\"){t=[]}else if(e===\"emptyObj\"){t={}}else if(utils.RegExp.test(/^\\d+$/,e)){t=parseFloat$1(e)}else if(e===\"\"){t=e}else if(e!==\"undefined\"){throw new Error$7(\"[override-property-read snippet]: \"+`Value \"${e}\" is not valid.`)}return t}let{ReferenceError:ReferenceError$2}=securedClasses;function abortCurrentInlineScript(e,t=null){let r=t?toRegExp(t):null;let o=randomId();let n=DOM.Document.getCurrentScript(document);let i=window;let s=utils.String.split(e,\".\");let l=utils.Array.pop(s);for(let e of s){i=i[e];if(!i||!(typeof i==\"object\"||typeof i==\"function\"))return}let{get:a,set:p}=utils.Object.getOwnPropertyDescriptor(i,l)||{};let u=i[l];let c=()=>{let e=DOM.Document.getCurrentScript(document);if(e instanceof DOM.HTMLScriptElement.self&&DOM.HTMLScriptElement.getSrc(e)==\"\"&&e!=n&&(!r||r.test(DOM.Node.getTextContent(e))))throw new ReferenceError$2(o)};let d={get(){c();if(a)return utils.Function.call(a,this);return u},set(e){c();if(p)utils.Function.call(p,this,e);else u=e}};wrapPropertyAccess(i,l,d);overrideOnError(o)}function abortOnIframePropertyRead(...e){abortOnIframe(e,true,false)}function abortOnIframePropertyWrite(...e){abortOnIframe(e,false,true)}function abortOnPropertyRead(e){abortOnRead(\"abort-on-property-read\",window,e)}function abortOnPropertyWrite(e){abortOnWrite(\"abort-on-property-write\",window,e)}let{Error:Error$6}=securedClasses;function cookieRemover(e){if(!e)throw new Error$6(\"[cookie-remover snippet]: No cookie to remove.\");let t=utils.Function.bind(debug()?log:()=>{},null,\"cookie-remover\");let r=toRegExp(e);if(!utils.RegExp.test(/^http|^about/,location.protocol)){t(\"Snippet only works for http or https and about.\");return}t(\"Parsing cookies for matches\");utils.Array.forEach(o(),(e=>{let r=utils.String.split(e,\"=\")[0];let o=\"expires=Thu, 01 Jan 1970 00:00:00 GMT\";let n=\"path=/\";let i=\"domain=\"+utils.String.slice(location.hostname,utils.String.indexOf(location.hostname,\".\")+1);DOM.Document.setCookie(document,`${utils.String.trim(r)}=;${o};${n}`);DOM.Document.setCookie(document,`${utils.String.trim(r)}=;${o};${n};${i}`);t(`Set expiration date on ${r}`)}));function o(){return utils.Array.filter(utils.String.split(DOM.Document.getCookie(document),\";\"),(e=>r.test(utils.String.split(e,\"=\")[0])))}}const libEnvironment=typeof environment!==\"undefined\"?environment:{};let{MutationObserver:MutationObserver$3,XPathEvaluator:XPathEvaluator$1}=securedClasses;function hideElement(e){if(environmentVariables.hidden.has(e))return;notifyElementHidden(e);environmentVariables.hidden.add(e);let t=DOM.HTMLElement.getStyle(e);let r=[];for(let[e,o]of libEnvironment.debugCSSProperties||[[\"display\",\"none\"]]){DOM.CSSStyleDeclaration.setProperty(t,e,o,\"important\");let n=DOM.CSSStyleDeclaration.getPropertyValue(t,e);utils.Array.push(r,[e,n])}new MutationObserver$3((()=>{for(let[e,o]of r){let r=DOM.CSSStyleDeclaration.getPropertyValue(t,e);let n=DOM.CSSStyleDeclaration.getPropertyPriority(t,e);if(r!=o||n!=\"important\")DOM.CSSStyleDeclaration.setProperty(t,e,o,\"important\")}})).observe(e,{attributes:true,attributeFilter:[\"style\"]})}function notifyElementHidden(e){if(context.webext.isExtensionContext&&typeof checkElement===\"function\")checkElement(e)}function initQueryAndApply(e){if(utils.String.startsWith(e,\"xpath(\")&&utils.String.endsWith(e,\")\")){let t=utils.String.slice(e,6,-1);let r=new XPathEvaluator$1;let o=r.createExpression(t,null);let n=XPathResult.ORDERED_NODE_SNAPSHOT_TYPE;return e=>{if(!e)return;let t=utils.XPathExpression.evaluate(o,document,n,null);let r=utils.XPathResult.getSnapshotLength(t);for(let o=0;o<r;o++)e(utils.XPathResult.snapshotItem(t,o))}}return t=>DOM.NodeList.forEach(DOM.Document.$$(e),t)}function initQueryAll(e){if(utils.String.startsWith(e,\"xpath(\")&&utils.String.endsWith(e,\")\")){let t=initQueryAndApply(e);return()=>{let e=[];t((t=>utils.Array.push(e,t)));return e}}return()=>utils.Array.from(DOM.Document.$$(e))}let{MutationObserver:MutationObserver$2,DOMParser:DOMParser$1,ReferenceError:ReferenceError$1,Error:Error$5}=securedClasses;function freezeElement(e,t=\"\",...r){let o;let n=false;let i=false;let s=utils.Array.filter(r,(e=>!d(e)));let l=utils.Array.map(utils.Array.filter(r,d),toRegExp);let a=randomId();let p;let u=initQueryAll(e);f();let c={selector:e,shouldAbort:i,rid:a,exceptionSelectors:s,regexExceptions:l,changeId:0};if(!environmentVariables.frozen.has(document)){environmentVariables.frozen.set(document,true);y()}o=new MutationObserver$2(g);o.observe(document,{childList:true,subtree:true});g();function d(e){return e.length>=2&&e[0]==\"/\"&&e[e.length-1]==\"/\"}function f(){let r=utils.String.split(t,\"+\");if(r.length===1&&r[0]===\"\")r=[];for(let t of r){switch(t){case\"subtree\":n=true;break;case\"abort\":i=true;break;default:throw new Error$5(\"[freeze] Unknown option passed to the snippet.\"+\" [selector]: \"+e+\" [option]: \"+t)}}}function y(){let e;let t={prototype:DOM.Node.prototype};let r={prototype:DOM.Element.prototype};let o={prototype:DOM.HTMLElement.prototype};e=P(t.prototype,\"appendChild\",n,l);wrapPropertyAccess(t.prototype,\"appendChild\",e);e=P(t.prototype,\"insertBefore\",n,l);wrapPropertyAccess(t.prototype,\"insertBefore\",e);e=P(t.prototype,\"replaceChild\",n,l);wrapPropertyAccess(t.prototype,\"replaceChild\",e);e=D(r.prototype,\"append\",n,l);wrapPropertyAccess(r.prototype,\"append\",e);e=D(r.prototype,\"prepend\",n,l);wrapPropertyAccess(r.prototype,\"prepend\",e);e=D(r.prototype,\"replaceWith\",i,a);wrapPropertyAccess(r.prototype,\"replaceWith\",e);e=D(r.prototype,\"after\",i,a);wrapPropertyAccess(r.prototype,\"after\",e);e=D(r.prototype,\"before\",i,a);wrapPropertyAccess(r.prototype,\"before\",e);e=A(r.prototype,\"insertAdjacentElement\",s,p);wrapPropertyAccess(r.prototype,\"insertAdjacentElement\",e);e=A(r.prototype,\"insertAdjacentHTML\",s,p);wrapPropertyAccess(r.prototype,\"insertAdjacentHTML\",e);e=A(r.prototype,\"insertAdjacentText\",s,p);wrapPropertyAccess(r.prototype,\"insertAdjacentText\",e);e=N(r.prototype,\"innerHTML\",n,l);wrapPropertyAccess(r.prototype,\"innerHTML\",e);e=N(r.prototype,\"outerHTML\",i,a);wrapPropertyAccess(r.prototype,\"outerHTML\",e);e=T(t.prototype,\"textContent\",n,l);wrapPropertyAccess(t.prototype,\"textContent\",e);e=T(o.prototype,\"innerText\",n,l);wrapPropertyAccess(o.prototype,\"innerText\",e);e=T(t.prototype,\"nodeValue\",n,l);wrapPropertyAccess(t.prototype,\"nodeValue\",e);function n(e){return e&&environmentVariables.frozen.has(e)}function i(e){try{return e&&(environmentVariables.frozen.has(e)||environmentVariables.frozen.has(DOM.Node.getParentNode(e)))}catch(e){return false}}function s(e,t){try{return e&&(environmentVariables.frozen.has(e)&&t||environmentVariables.frozen.has(DOM.Node.getParentNode(e))&&!t)}catch(e){return false}}function l(e){return environmentVariables.frozen.get(e)}function a(e){try{if(environmentVariables.frozen.has(e))return environmentVariables.frozen.get(e);let t=DOM.Node.getParentNode(e);return environmentVariables.frozen.get(t)}catch(e){}}function p(e,t){try{if(environmentVariables.frozen.has(e)&&t)return environmentVariables.frozen.get(e);let r=DOM.Node.getParentNode(e);return environmentVariables.frozen.get(r)}catch(e){}}}function g(){p=u();h(p,false)}function h(e,t=true){for(let r of e){if(!environmentVariables.frozen.has(r)){environmentVariables.frozen.set(r,c);if(!t&&n){new MutationObserver$2((e=>{for(let t of e)h(utils.MutationRecord.getAddedNodes(t))})).observe(r,{childList:true,subtree:true})}if(n&&DOM.Node.getNodeType(r)===DOM.Node.ELEMENT_NODE)h(DOM.Node.getChildNodes(r))}}}function m(e,...t){log(`[freeze][${e}] `,...t)}function b(e,t,r,o){let n=o.selector;let i=o.changeId;let s=typeof e==\"string\";let l=o.shouldAbort?\"aborting\":\"watching\";utils.console.groupCollapsed(`[freeze][${i}] ${l}: ${n}`);switch(r){case\"appendChild\":case\"append\":case\"prepend\":case\"insertBefore\":case\"replaceChild\":case\"insertAdjacentElement\":case\"insertAdjacentHTML\":case\"insertAdjacentText\":case\"innerHTML\":case\"outerHTML\":m(i,s?\"text: \":\"node: \",e);m(i,\"added to node: \",t);break;case\"replaceWith\":case\"after\":case\"before\":m(i,s?\"text: \":\"node: \",e);m(i,\"added to node: \",DOM.Node.getParentNode(t));break;case\"textContent\":case\"innerText\":case\"nodeValue\":m(i,\"content of node: \",t);m(i,\"changed to: \",e);break}m(i,`using the function \"${r}\"`);utils.console.groupEnd();o.changeId++}function E(e,t){if(t){for(let r of t){if(DOM.Element.matches(e,r))return true}}return false}function w(e,t){if(t){for(let r of t){if(r.test(e))return true}}return false}function O(e){throw new ReferenceError$1(e)}function S(e,t,r,o){let n=\"\";let i=new DOMParser$1;let s=i.parseFromString(e,\"text/html\");let l=DOM.Node.getChildNodes(DOM.Document.getBody(s));let a=v(l,t,r,o);let p=utils.Array.map(a,(e=>{switch(DOM.Node.getNodeType(e)){case DOM.Node.ELEMENT_NODE:return DOM.Element.getOuterHTML(e);case DOM.Node.TEXT_NODE:return DOM.textContent(e);default:return\"\"}}));n=utils.Array.join(p,\"\");return n}function v(e,t,r,o){let n=[];for(let i of e){if(M(i,t,r,o))utils.Array.push(n,i)}return n}function M(e,t,r,o){let n=o.shouldAbort;let i=o.regexExceptions;let s=o.exceptionSelectors;let l=o.rid;if(typeof e==\"string\"){let s=e;if(w(s,i))return true;if(debug())b(s,t,r,o);if(n)O(l);return debug()}let a=e;switch(DOM.Node.getNodeType(a)){case DOM.Node.ELEMENT_NODE:if(E(a,s))return true;if(n){if(debug())b(a,t,r,o);O(l)}if(debug()){hideElement(a);b(a,t,r,o);return true}return false;case DOM.Node.TEXT_NODE:if(w(DOM.Node.getTextContent(a),i))return true;if(debug())b(a,t,r,o);if(n)O(l);return false;default:return true}}function P(e,t,r,o){let n=utils.Object.getOwnPropertyDescriptor(e,t)||{};let i=n.get&&utils.Function.call(n.get,e)||n.value;if(!i)return;return{get(){return function(...e){if(r(this)){let r=o(this);if(r){let o=e[0];if(!M(o,this,t,r))return o}}return utils.Function.apply(i,this,e)}}}}function D(e,t,r,o){let n=utils.Object.getOwnPropertyDescriptor(e,t)||{};let i=n.get&&utils.Function.call(n.get,e)||n.value;if(!i)return;return{get(){return function(...e){if(!r(this))return utils.Function.apply(i,this,e);let n=o(this);if(!n)return utils.Function.apply(i,this,e);let s=v(e,this,t,n);if(s.length>0)return utils.Function.apply(i,this,s)}}}}function A(e,t,r,o){let n=utils.Object.getOwnPropertyDescriptor(e,t)||{};let i=n.get&&utils.Function.call(n.get,e)||n.value;if(!i)return;return{get(){return function(...e){let[n,s]=e;let l=n===\"afterbegin\"||n===\"beforeend\";if(r(this,l)){let e=o(this,l);if(e){let r=l?this:DOM.Node.getParentNode(this);let o;switch(t){case\"insertAdjacentElement\":if(!M(s,r,t,e))return s;break;case\"insertAdjacentHTML\":o=S(s,r,t,e);if(o){return utils.Function.call(i,this,n,o)}return;case\"insertAdjacentText\":if(!M(s,r,t,e))return;break}}}return utils.Function.apply(i,this,e)}}}}function N(e,t,r,o){let n=utils.Object.getOwnPropertyDescriptor(e,t)||{};let{set:i}=n;if(!i)return;return{set(e){if(!r(this))return utils.Function.call(i,this,e);let n=o(this);if(!n)return utils.Function.call(i,this,e);let s=S(e,this,t,n);if(s)return utils.Function.call(i,this,s)}}}function T(e,t,r,o){let n=utils.Object.getOwnPropertyDescriptor(e,t)||{};let{set:i}=n;if(!i)return;return{set(e){if(!r(this))return utils.Function.call(i,this,e);let n=o(this);if(!n)return utils.Function.call(i,this,e);if(M(e,this,t,n))return utils.Function.call(i,this,e)}}}}let{MutationObserver:MutationObserver$1}=securedClasses;function hideIfShadowContains(e,t=\"*\"){let r=DOM.Element.prototype.attachShadow;if(!r)return;let o=toRegExp(e);let n=environmentVariables.shadows;function i(e,r){let{host:i,root:s}=n.get(r)||{};if(!i||!s)return;if(o.test(DOM.Node.getTextContent(s))){let e=DOM.Element.closest(i,t);if(e)hideElement(e)}}utils.Object.defineProperty(DOM.Element.prototype,\"attachShadow\",{value(...e){let t=utils.Function.apply(r,this,e);let o=new MutationObserver$1(i);o.observe(t,{childList:true,characterData:true,subtree:true});n.set(o,{host:this,root:t});return t}})}let{Error:Error$4}=securedClasses;function jsonOverride(e,t,r=\"\",o=\"\"){if(!e)throw new Error$4(\"[json-override snippet]: Missing paths to override.\");if(typeof t==\"undefined\")throw new Error$4(\"[json-override snippet]: No value to override with.\");let n=utils.String.split(e,/ +/);let i=r!==\"\"?utils.String.split(r,/ +/):[];let s=o?toRegExp(o):null;let l=utils.Function.bind(debug()?log:()=>{},null,\"json-override\");let a=utils.JSON.parse;let p={value(...e){let r=utils.Function.apply(a,this,e);if(o&&!s.test(e[0]))return r;if(i.length>0&&utils.Array.some(i,(e=>!findOwner(r,e))))return r;for(let e of n){let o=findOwner(r,e);if(typeof o!=\"undefined\"){l(`Found ${e} replaced it with ${t}`);o[0][o[1]]=overrideValue(t)}}return r}};utils.Object.defineProperty(utils.JSON.self,\"parse\",p);l(\"Wrapped JSON.parse\")}let{Error:Error$3}=securedClasses;function jsonPrune(e,t=\"\"){if(!e)throw new Error$3(\"Missing paths to prune\");let r=utils.String.split(e,/ +/);let o=t!==\"\"?utils.String.split(t,/ +/):[];let n=utils.JSON.parse;let i={value(...e){let t;t=utils.Function.apply(n,this,e);if(o.length>0&&utils.Array.some(o,(e=>!findOwner(t,e))))return t;for(let e of r){let r=findOwner(t,e);if(typeof r!=\"undefined\")delete r[0][r[1]]}return t}};utils.Object.defineProperty(utils.JSON.self,\"parse\",i)}let{Error:Error$2}=securedClasses;function overridePropertyRead(e,t){if(!e){throw new Error$2(\"[override-property-read snippet]: \"+\"No property to override.\")}if(typeof t===\"undefined\"){throw new Error$2(\"[override-property-read snippet]: \"+\"No value to override with.\")}let r=utils.Function.bind(debug()?log:()=>{},null,\"override-property-read\");let o=overrideValue(t);let n=()=>{r(`${e} override done.`);return o};r(`Overriding ${e}.`);wrapPropertyAccess(window,e,{get:n,set(){}})}let{Error:Error$1}=securedClasses;function preventListener(e,t,r){if(!e)throw new Error$1(\"[prevent-listener snippet]: No event type.\");let o=toRegExp(e);let n=t?toRegExp(t):null;let i=utils.Function.bind(debug()?log:()=>{},null,\"[prevent]\");let s=utils.EventTarget.addEventListener;let l={value(...e){let[t,l]=e;if(!a()||n&&!p()||r&&!(this instanceof Element)||r&&!u(this))return s(this,...e);if(debug()){utils.console.groupCollapsed(\"DEBUG [prevent] was successful\");i(`type: ${t} matching ${o}`);i(\"handler:\",l);if(n)i(`matching ${n}`);if(r)i(\"on element: \",this,` matching ${r}`);i(\"was prevented from being added\");utils.console.groupEnd()}function a(){return o.test(t)}function p(){return n.test(utils.Function.toString(typeof l===\"function\"?l:l.handleEvent))}function u(e){return DOM.Element.matches(e,r)}}};utils.Object.defineProperty(utils.EventTarget.prototype,\"addEventListener\",l);i(\"Wrapped addEventListener\")}let{fetch:fetch}=securedWindow;let{URL:URL$1}=securedClasses;function stripFetchQueryParameter(e,t=null){let r=fetch;if(typeof r!=\"function\")return;let o=t?toRegExp(t):null;window.fetch=(...t)=>{let[n]=t;if(typeof n==\"string\"&&(!o||o.test(n))){let r=new URL$1(n);utils.URLSearchParams.delete(r.searchParams,e);t[0]=r.href}return utils.Function.apply(r,this,t)}}function trace(...e){log(...e)}const injectedSnippetsList=[\"abort-current-inline-script\",\"abort-on-iframe-property-read\",\"abort-on-iframe-property-write\",\"abort-on-property-read\",\"abort-on-property-write\",\"cookie-remover\",\"debug\",\"freeze-element\",\"hide-if-shadow-contains\",\"json-override\",\"json-prune\",\"override-property-read\",\"prevent-listener\",\"strip-fetch-query-parameter\",\"trace\"];const injectedSnippetsCallbacks=[abortCurrentInlineScript,abortOnIframePropertyRead,abortOnIframePropertyWrite,abortOnPropertyRead,abortOnPropertyWrite,cookieRemover,setDebug,freezeElement,hideIfShadowContains,jsonOverride,jsonPrune,overridePropertyRead,preventListener,stripFetchQueryParameter,trace];const snippets={};for(let e=0,{length:t}=injectedSnippetsList;e<t;e++)snippets[injectedSnippetsList[e]]=injectedSnippetsCallbacks[e];snippets.trace();\n","isolatedCode":"/**\n * This file is part of Adblock Plus <https://adblockplus.org/>,\n * Copyright (C) 2006-present eyeo GmbH\n *\n * Adblock Plus is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * Adblock Plus is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});let ABP=getABPNamespace();let{context:context,utils:utils,DOM:DOM,securedWindow:securedWindow,securedClasses:securedClasses,environmentVariables:environmentVariables}=ABP;function getABPNamespace(){let{Object:e}=window;let{assign:t,defineProperty:r,freeze:n,getOwnPropertyDescriptor:o,values:l}=window.Object;let{getComputedStyle:i,setInterval:a,setTimeout:s,performance:u}=window;let p=typeof chrome===\"object\"&&typeof chrome.runtime!==\"undefined\";let d=typeof browser===\"object\"&&typeof browser.runtime!==\"undefined\";let c={isExtensionContext:p||d};if(c.isExtensionContext)c.chrome=p?chrome:browser;let f=(e,t=[])=>{let l=new e(...t);for(let t of Reflect.ownKeys(e.prototype))r(l,t,o(e.prototype,t));return n(l)};let h=e=>{if(c.isExtensionContext)return e;class t extends e{}let n=e.prototype;let l=t.prototype;for(let e of Reflect.ownKeys(n)){let t=o(n,e);t.configurable=false;if(t.writable)t.writable=false;r(l,e,t)}return t};let g=e=>Function.call.bind(e);let m=(e,t)=>{let r=o(e,t);return r&&r.get?g(r.get):e=>e[t]};let y=(e,t)=>{let r=o(e,t);return r&&r.set?g(r.set):(e,r)=>e[t]=r};return n({context:n({webext:c}),utils:n({Object:n({assign:t.bind(e),defineProperty:r.bind(e),getOwnPropertyDescriptor:o.bind(e),values:(l||function(e){return this.keys(e).map((t=>e[t]))}).bind(e),hasOwnProperty:g(e.prototype.hasOwnProperty),self:e}),Math:{floor:Math.floor.bind(Math),random:Math.random.bind(Math),ceil:Math.ceil.bind(Math)},String:{replace:g(String.prototype.replace),substring:g(String.prototype.substring),indexOf:g(String.prototype.indexOf),slice:g(String.prototype.slice),includes:g(String.prototype.includes),split:g(String.prototype.split),match:g(String.prototype.match),repeat:g(String.prototype.repeat),trim:g(String.prototype.trim),startsWith:g(String.prototype.startsWith),endsWith:g(String.prototype.endsWith)},Array:{push:g(Array.prototype.push),unshift:g(Array.prototype.unshift),pop:g(Array.prototype.pop),some:g(Array.prototype.some),filter:g(Array.prototype.filter),map:g(Array.prototype.map),join:g(Array.prototype.join),sort:g(Array.prototype.sort),forEach:g(Array.prototype.forEach),reduce:g(Array.prototype.reduce),from:Array.from.bind(Array),apply:Array.apply.bind(Array)},Function:{apply:g(Function.prototype.apply),call:g(Function.prototype.call),bind:g(Function.prototype.bind),toString:g(Function.prototype.toString)},Number:{toString:g(Number.prototype.toString)},console:{log:console.log.bind(console),dir:console.dir.bind(console),groupCollapsed:console.groupCollapsed.bind(console),groupEnd:console.groupEnd.bind(console)},JSON:{parse:JSON.parse.bind(JSON),self:JSON},MutationRecord:{getAddedNodes:m(MutationRecord.prototype,\"addedNodes\"),getTarget:m(MutationRecord.prototype,\"target\")},EventTarget:{prototype:EventTarget.prototype,addEventListener:g(EventTarget.prototype.addEventListener),dispatchEvent:g(EventTarget.prototype.dispatchEvent)},RegExp:{test:g(RegExp.prototype.test)},URLSearchParams:{delete:g(URLSearchParams.prototype.delete)},ImageData:{getWidth:m(ImageData.prototype,\"width\"),getHeight:m(ImageData.prototype,\"height\"),getData:m(ImageData.prototype,\"data\")},Promise:{then:g(Promise.prototype.then),catch:g(Promise.prototype.catch)},XPathExpression:{evaluate:g(XPathExpression.prototype.evaluate)},XPathResult:{getSnapshotLength:m(XPathResult.prototype,\"snapshotLength\"),snapshotItem:g(XPathResult.prototype.snapshotItem)}}),securedWindow:n({getComputedStyle:i.bind(window),setInterval:a.bind(window),setTimeout:s.bind(window),clearInterval:clearInterval.bind(window),clearTimeout:clearTimeout.bind(window),performance:u,fetch:window.fetch,getWindowFrames:()=>m(window,\"frames\")(window),getOnerror:()=>m(window,\"onerror\")(window),setOnerror:e=>y(window,\"onerror\")(window,e),parseFloat:parseFloat.bind(window),parseInt:parseInt.bind(window),isNaN:isNaN.bind(window)}),DOM:n({CSSStyleDeclaration:{setProperty:g(CSSStyleDeclaration.prototype.setProperty),getPropertyValue:g(CSSStyleDeclaration.prototype.getPropertyValue),getPropertyPriority:g(CSSStyleDeclaration.prototype.getPropertyPriority)},Node:{ELEMENT_NODE:Node.ELEMENT_NODE,TEXT_NODE:Node.TEXT_NODE,getParentNode:m(Node.prototype,\"parentNode\"),getParentElement:m(Node.prototype,\"parentElement\"),getTextContent:m(Node.prototype,\"textContent\"),setTextContent:y(Node.prototype,\"textContent\"),getNodeType:m(Node.prototype,\"nodeType\"),getChildNodes:m(Node.prototype,\"childNodes\"),getNodeValue:m(Node.prototype,\"nodeValue\"),prototype:Node.prototype},Element:{matches:g(Element.prototype.matches),attachShadow:g(Element.prototype.attachShadow),closest:g(Element.prototype.closest),getOuterHTML:m(Element.prototype,\"outerHTML\"),getAttributes:m(Element.prototype,\"attributes\"),prototype:Element.prototype,getAttribute:g(Element.prototype.getAttribute),querySelector:g(Element.prototype.querySelector),getTagName:m(Element.prototype,\"tagName\")},Document:{getBody:m(Document.prototype,\"body\"),getCurrentScript:m(Document.prototype,\"currentScript\"),getImages:m(Document.prototype,\"images\"),createElement:g(Document.prototype.createElement),getElementById:g(Document.prototype.getElementById),getCookie:m(Document.prototype,\"cookie\"),setCookie:y(Document.prototype,\"cookie\"),$$:document.querySelectorAll.bind(document)},HTMLElement:{getStyle:m(HTMLElement.prototype,\"style\"),getInnerText:m(HTMLElement.prototype,\"innerText\"),prototype:HTMLElement.prototype},HTMLScriptElement:{self:HTMLScriptElement,getSrc:m(HTMLScriptElement.prototype,\"src\")},HTMLImageElement:{getSrc:m(HTMLImageElement.prototype,\"src\")},HTMLCanvasElement:{getContext:g(HTMLCanvasElement.prototype.getContext),setWidth:y(HTMLCanvasElement.prototype,\"width\"),setHeight:y(HTMLCanvasElement.prototype,\"height\")},CanvasRenderingContext2D:{drawImage:g(CanvasRenderingContext2D.prototype.drawImage),getImageData:g(CanvasRenderingContext2D.prototype.getImageData)},NodeList:{forEach:g(NodeList.prototype.forEach)},Attr:{getValue:m(Attr.prototype,\"value\"),getName:m(Attr.prototype,\"name\")}}),environmentVariables:{frozen:f(WeakMap),shadows:f(WeakMap),hidden:f(WeakSet),iframePropertiesToAbort:{read:f(Set),write:f(Set)},abortedIframes:f(WeakMap)},securedClasses:n({MutationObserver:h(MutationObserver),DOMParser:h(DOMParser),Set:h(Set),Array:h(Array),RegExp:h(RegExp),ReferenceError:h(ReferenceError),Error:h(Error),URL:h(URL),WeakSet:h(WeakSet),MouseEvent:h(MouseEvent),Image:h(Image),Uint8Array:h(Uint8Array),Map:h(Map),XPathEvaluator:h(XPathEvaluator)})})}const libEnvironment=typeof environment!==\"undefined\"?environment:{};let{getComputedStyle:getComputedStyle$4}=securedWindow;let{MutationObserver:MutationObserver$9,XPathEvaluator:XPathEvaluator$1}=securedClasses;function hideElement(e){if(environmentVariables.hidden.has(e))return;notifyElementHidden(e);environmentVariables.hidden.add(e);let t=DOM.HTMLElement.getStyle(e);let r=[];for(let[e,n]of libEnvironment.debugCSSProperties||[[\"display\",\"none\"]]){DOM.CSSStyleDeclaration.setProperty(t,e,n,\"important\");let o=DOM.CSSStyleDeclaration.getPropertyValue(t,e);utils.Array.push(r,[e,o])}new MutationObserver$9((()=>{for(let[e,n]of r){let r=DOM.CSSStyleDeclaration.getPropertyValue(t,e);let o=DOM.CSSStyleDeclaration.getPropertyPriority(t,e);if(r!=n||o!=\"important\")DOM.CSSStyleDeclaration.setProperty(t,e,n,\"important\")}})).observe(e,{attributes:true,attributeFilter:[\"style\"]})}function notifyElementHidden(e){if(context.webext.isExtensionContext&&typeof checkElement===\"function\")checkElement(e)}function initQueryAndApply(e){if(utils.String.startsWith(e,\"xpath(\")&&utils.String.endsWith(e,\")\")){let t=utils.String.slice(e,6,-1);let r=new XPathEvaluator$1;let n=r.createExpression(t,null);let o=XPathResult.ORDERED_NODE_SNAPSHOT_TYPE;return e=>{if(!e)return;let t=utils.XPathExpression.evaluate(n,document,o,null);let r=utils.XPathResult.getSnapshotLength(t);for(let n=0;n<r;n++)e(utils.XPathResult.snapshotItem(t,n))}}return t=>DOM.NodeList.forEach(DOM.Document.$$(e),t)}function hideIfMatches(e,t,r){if(r==null)r=t;let n=()=>{for(let n of DOM.Document.$$(r)){let r=DOM.Element.closest(n,t);if(r&&e(n,r))hideElement(r)}};new MutationObserver$9(n).observe(document,{childList:true,characterData:true,subtree:true});n()}function isVisible(e,t,r){if(DOM.CSSStyleDeclaration.getPropertyValue(t,\"display\")==\"none\")return false;let n=DOM.CSSStyleDeclaration.getPropertyValue(t,\"visibility\");if(n==\"hidden\"||n==\"collapse\")return false;if(!r||e==r)return true;let o=DOM.Node.getParentElement(e);if(!o)return true;return isVisible(o,getComputedStyle$4(o),r)}function getComputedCSSText(e){let t=getComputedStyle$4(e);let{cssText:r}=t;if(r)return r;for(let e of t)r+=`${e}: ${t[e]}; `;return utils.String.trim(r)}let{setTimeout:setTimeout$1,parseInt:parseInt$2}=securedWindow;let{MutationObserver:MutationObserver$8,Error:Error$2,WeakSet:WeakSet$4,MouseEvent:MouseEvent$1}=securedClasses;function simulateEvent(e,t,r=\"0\"){if(!e)throw new Error$2(\"[simulate-event snippet]: No event type provided.\");if(!t)throw new Error$2(\"[simulate-event snippet]: No selector provided.\");let n=initQueryAndApply(t);let o=parseInt$2(r,10);let l=new WeakSet$4;let i=new MutationObserver$8(a);i.observe(document,{childList:true,subtree:true});a();function a(){n((t=>{if(!l.has(t)){l.add(t);setTimeout$1((()=>{utils.EventTarget.dispatchEvent(t,new MouseEvent$1(e,{bubbles:true,cancelable:true}))}),o)}}))}}let{RegExp:RegExp$1}=securedClasses;function regexEscape(e){return utils.String.replace(e,/[-/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function toRegExp(e){if(e.length>=2&&e[0]==\"/\"&&e[e.length-1]==\"/\")return new RegExp$1(utils.String.substring(e,1,e.length-1));return new RegExp$1(regexEscape(e))}function randomId(){return utils.Number.toString(utils.Math.floor(utils.Math.random()*2116316160+60466176),36)}function hideIfContains(e,t=\"*\",r=null){let n=toRegExp(e);hideIfMatches((e=>n.test(DOM.Node.getTextContent(e))),t,r)}let{MutationObserver:MutationObserver$7}=securedClasses;function hideIfContainsAndMatchesStyle(e,t=\"*\",r=null,n=null,o=null){if(r==null)r=t;let l=toRegExp(e);let i=n?toRegExp(n):null;let a=o?toRegExp(o):null;new MutationObserver$7((()=>{for(let e of DOM.Document.$$(r)){if(l.test(DOM.Node.getTextContent(e))&&(!a||a.test(getComputedCSSText(e)))){let r=DOM.Element.closest(e,t);if(r&&(!i||i.test(getComputedCSSText(r))))hideElement(r)}}})).observe(document,{childList:true,characterData:true,subtree:true})}let{getComputedStyle:getComputedStyle$3,setTimeout:setTimeout,fetch:fetch,clearTimeout:clearTimeout$1}=securedWindow;let{MutationObserver:MutationObserver$6,Uint8Array:Uint8Array$1,Map:Map$1}=securedClasses;function hideIfContainsImage(e,t,r){if(r==null)r=t;let n=toRegExp(e);new MutationObserver$6((()=>{for(let e of DOM.Document.$$(r)){let r=getComputedStyle$3(e);let o=utils.String.match(r[\"background-image\"],/^url\\(\"(.*)\"\\)$/);if(o){fetchContent(o[1]).then((r=>{if(n.test(uint8ArrayToHex(new Uint8Array$1(r)))){let r=DOM.Element.closest(e,t);if(r)hideElement(r)}}))}}})).observe(document,{childList:true,subtree:true})}let fetchContentMap=new Map$1;function fetchContent(e,{as:t=\"arrayBuffer\",cleanup:r=6e4}={}){let n=t+\":\"+e;let o=fetchContentMap.get(n)||{remove:()=>fetchContentMap.delete(n),result:null,timer:0};clearTimeout$1(o.timer);o.timer=setTimeout(o.remove,r);if(!o.result){o.result=utils.Promise.then(fetch(e),(e=>e[t]()));utils.Promise.catch(o.result,o.remove);fetchContentMap.set(n,o)}return o.result}function toHex(e,t=2){let r=utils.Number.toString(e,16);if(r.length<t)r=utils.String.repeat(\"0\",t-r.length)+r;return r}function uint8ArrayToHex(e){return e.reduce(((e,t)=>e+toHex(t)),\"\")}let{MutationObserver:MutationObserver$5,Set:Set$1,Array:Array$2,Error:Error$1,Image:Image$1}=securedClasses;let{parseInt:parseInt$1,isNaN:isNaN$1}=securedWindow;function hideIfContainsImageHash(e,t,r,n,o){if(t==null||t===\"\")t=\"img\";if(r==null)r=0;if(n==null)n=8;if(isNaN$1(r)||isNaN$1(n))return;n|=0;if(n<1||n>64)return;o=utils.String.split(o||\"\",\"x\");let l=new Set$1;let i=i=>{for(let a of i){l.add(DOM.HTMLImageElement.getSrc(a));let i=new Image$1;i.crossOrigin=\"anonymous\";i.onload=()=>{let l=DOM.Document.createElement(document,\"canvas\");let s=DOM.HTMLCanvasElement.getContext(l,\"2d\");let{width:u,height:p}=i;let d=parseInt$1(o[0],10)||0;let c=parseInt$1(o[1],10)||0;let f=parseInt$1(o[2],10)||u;let h=parseInt$1(o[3],10)||p;if(f==0||h==0)return;if(d<0)d=u+d;if(c<0)c=p+c;if(d<0)d=0;if(c<0)c=0;if(f>u)f=u;if(h>p)h=p;DOM.HTMLCanvasElement.setWidth(l,f);DOM.HTMLCanvasElement.setHeight(l,h);DOM.CanvasRenderingContext2D.drawImage(s,i,d,c,f,h,0,0,f,h);let g=DOM.CanvasRenderingContext2D.getImageData(s,0,0,f,h);let m=hashImage(g,n);for(let n of utils.String.split(e,\",\")){if(m.length==n.length){if(hammingDistance(m,n)<=r){let e=DOM.Element.closest(a,t);if(e){hideElement(e);return}}}}};i.src=DOM.HTMLImageElement.getSrc(a)}};i(DOM.Document.getImages(document));new MutationObserver$5((()=>{let e=new Set$1;for(let t of DOM.Document.getImages(document)){if(!l.has(t.src))e.add(t)}if(e.size)i(e)})).observe(document,{childList:true,subtree:true,attributes:true})}function hashImage(e,t){function r(e){utils.Array.sort(e,((e,t)=>e-t));let{length:t}=e;if(t%2===0)return(e[t/2-1]+e[t/2])/2;return e[t/2|0]}function n(e,t){let n=t*256*3/2;let o=e.length/4;for(let t=0;t<4;t++){let l=t*o;let i=(t+1)*o;let a=r(e.slice(l,i));for(let t=l;t<i;t++){let r=e[t];e[t]=r>a||a-r<1&&a>n?1:0}}}function o(e){let t=[];let{length:r}=e;for(let n=0;n<r;n+=4){let r=e.slice(n,n+4);utils.Array.push(t,utils.Number.toString(parseInt$1(utils.Array.join(r,\"\"),2),16))}return utils.Array.join(t,\"\")}function l(e,t){let r=utils.ImageData.getWidth(e);let l=utils.ImageData.getHeight(e);let i=utils.ImageData.getData(e);let a=r/t|0;let s=l/t|0;let u=new Array$2(t*t);for(let e=0;e<t;e++){for(let n=0;n<t;n++){let o=0;for(let t=0;t<s;t++){let l=((e*s+t)*r+n*a)*4;for(let e=0;e<a;e++){let e=i[l+3];if(e===0)o+=765;else o+=i[l]+i[l+1]+i[l+2];l+=4}}u[e*t+n]=o}}n(u,a*s);return o(u)}function i(e,t){let r;let i;let a;let s;let u;let p;let d;let c;let f;let h;let g;let m;let y;let S;let E;let b;let M;let O;let w=utils.ImageData.getWidth(e);let C=utils.ImageData.getHeight(e);let D=utils.ImageData.getData(e);let T=w%t===0;let I=C%t===0;if(T&&I)return l(e,t);let v=new Array$2(t*t).fill(0);a=w/t;s=C/t;E=1;S=0;y=s;u=1;p=0;let x=0;for(i=0;i<C;i++){if(I){f=h=i/s|0}else{if(i+1>=y){let e=(i+1)%s;E=e|0;S=e-E;if(s>1)y=utils.Math.ceil((i+1)/s)*s;u=1-S;p=S}if(E>0||i+1===C){f=h=i/s|0}else{let e=i/s;f=e|0;h=f===e?f:f+1}}O=1;M=0;b=a;d=1;c=0;for(r=0;r<w;r++){let e=765;let n=D[x+3];if(n!==0)e=D[x]+D[x+1]+D[x+2];if(T){g=m=r/a|0}else{if(r+1>=b){let e=(r+1)%a;O=e|0;M=e-O;if(a>1)b=utils.Math.ceil((r+1)/a)*a;d=1-M;c=M}if(O>0||r+1===w){g=m=r/a|0}else{let e=r/a;g=e|0;m=g===e?g:g+1}}v[f*t+g]+=e*u*d;v[f*t+m]+=e*u*c;v[h*t+g]+=e*p*d;v[h*t+m]+=e*p*c;x+=4;O++}E++}n(v,a*s);return o(v)}return i(e,t)}function hammingDistance(e,t){let r=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];let n=0;let o;if(e.length!==t.length)throw new Error$1(\"Can't compare hashes with different length\");for(o=0;o<e.length;o++){let l=parseInt$1(e[o],16);let i=parseInt$1(t[o],16);n+=r[l^i]}return n}let{setInterval:setInterval,performance:performance}=securedWindow;const noopProfile={mark(){},end(){},toString(){return\"{mark(){},end(){}}\"}};let inactive=true;function setProfile(){inactive=false}function profile(e,t=10){if(inactive||!context.webext.isExtensionContext)return noopProfile;function r(){let e=[];for(let{name:t,duration:r}of performance.getEntriesByType(\"measure\"))e.push({name:t,duration:r});if(e.length){performance.clearMeasures();context.webext.chrome.runtime.sendMessage({type:\"profiler.sample\",category:\"snippets\",samples:e})}}if(!profile[e]){profile[e]=setInterval(r,Math.round(6e4/Math.min(60,t)))}return{mark(){performance.mark(e)},end(t=false){performance.measure(e,e);performance.clearMarks(e);if(t){clearInterval(profile[e]);delete profile[e];r()}}}}let debugging=false;function debug(){return debugging}function setDebug(){debugging=true}function log(...e){let{mark:t,end:r}=profile(\"log\");if(debug())utils.Array.unshift(e,\"%c DEBUG\",\"font-weight: bold\");t();utils.console.log(...e);r()}let{getComputedStyle:getComputedStyle$2}=securedWindow;let{WeakSet:WeakSet$3}=securedClasses;function hideIfContainsVisibleText(e,t,r=null){function n(e,t){if(!t)t=getComputedStyle$2(e);if(DOM.CSSStyleDeclaration.getPropertyValue(t,\"opacity\")==\"0\")return false;if(DOM.CSSStyleDeclaration.getPropertyValue(t,\"font-size\")==\"0px\")return false;let r=DOM.CSSStyleDeclaration.getPropertyValue(t,\"color\");if(r==\"rgba(0, 0, 0, 0)\")return false;if(DOM.CSSStyleDeclaration.getPropertyValue(t,\"background-color\")==r)return false;return true}function o(e,t){let r=getComputedStyle$2(e,t);if(!isVisible(e,r)||!n(e,r))return\"\";let{content:o}=r;if(o&&o!==\"none\"){let t=[];o=utils.String.replace(utils.String.trim(o),/([\"'])(?:(?=(\\\\?))\\2.)*?\\1/g,(e=>`\u0001${utils.Array.push(t,utils.String.slice(e,1,-1))-1}`));o=utils.String.replace(o,/\\s*attr\\(\\s*([^\\s,)]+)[^)]*?\\)\\s*/g,((t,r)=>DOM.Element.getAttribute(e,r)||\"\"));return utils.String.replace(o,/\\x01(\\d+)/g,((e,r)=>t[r]))}return\"\"}function l(e,t,r){let i=!r;if(i)r=getComputedStyle$2(e);if(!isVisible(e,r,i&&t))return\"\";let a=o(e,\":before\");for(let t of DOM.Node.getChildNodes(e)){switch(DOM.Node.getNodeType(t)){case DOM.Node.ELEMENT_NODE:a+=l(t,e,getComputedStyle$2(t));break;case DOM.Node.TEXT_NODE:if(n(e,r))a+=DOM.Node.getNodeValue(t);break}}return a+o(e,\":after\")}let i=toRegExp(e);let a=new WeakSet$3;hideIfMatches(((e,t)=>{if(a.has(e))return false;a.add(e);let r=l(e,t);let n=i.test(r);if(debug()&&r.length)log(n,i,r);return n}),t,r)}let{MutationObserver:MutationObserver$4}=securedClasses;function hideIfHasAndMatchesStyle(e,t=\"*\",r=null,n=null,o=null){if(r==null)r=t;let l=n?toRegExp(n):null;let i=o?toRegExp(o):null;new MutationObserver$4((()=>{for(let n of DOM.Document.$$(r)){if(DOM.Element.querySelector(n,e)&&(!i||i.test(getComputedCSSText(n)))){let e=DOM.Element.closest(n,t);if(e&&(!l||l.test(getComputedCSSText(e))))hideElement(e)}}})).observe(document,{childList:true,subtree:true})}let{getComputedStyle:getComputedStyle$1}=securedWindow;let{MutationObserver:MutationObserver$3,WeakSet:WeakSet$2}=securedClasses;function hideIfLabelledBy(e,t,r=null){let n=r==null;let o=toRegExp(e);let l=new WeakSet$2;let i=()=>{for(let e of DOM.Document.$$(t)){let t=n?e:DOM.Element.closest(e,r);if(!t||!isVisible(e,getComputedStyle$1(e),t))continue;let i=DOM.Element.getAttribute(e,\"aria-labelledby\");let a=()=>{if(l.has(t))return;if(o.test(DOM.Element.getAttribute(e,\"aria-label\")||\"\")){l.add(t);hideElement(t)}};if(i){for(let e of utils.String.split(i,/\\s+/)){let r=DOM.Document.getElementById(document,e);if(r){if(!l.has(r)&&o.test(r.innerText)){l.add(r);hideElement(t)}}else{a()}}}else{a()}}};let a={characterData:true,childList:true,subtree:true};new MutationObserver$3(i).observe(document,a);i()}let{MutationObserver:MutationObserver$2}=securedClasses;function hideIfMatchesXPath(e){let{mark:t,end:r}=profile(\"hide-if-matches-xpath\");let n=initQueryAndApply(`xpath(${e})`);let o=()=>{t();n((e=>{if(DOM.Node.getNodeType(e)===DOM.Node.ELEMENT_NODE)hideElement(e);else DOM.Node.setTextContent(e,\"\")}));r()};let l={characterData:true,childList:true,subtree:true};new MutationObserver$2(o).observe(document,l);o()}let{WeakSet:WeakSet$1,MutationObserver:MutationObserver$1,Array:Array$1}=securedClasses;let{getComputedStyle:getComputedStyle,parseFloat:parseFloat$1}=securedWindow;function hideIfGraphMatches(e,t){let r=false;let n=new WeakSet$1;let o=t;let l=t=>{for(let l of t){if(DOM.Element.getTagName(utils.MutationRecord.getTarget(l))==o){if(!r){r=true;requestAnimationFrame((()=>{r=false;predictAds(e,n)}))}break}}};new MutationObserver$1(l).observe(document,{childList:true,subtree:true});predictAds(e,n)}const GRAPH_CUT_OFF=50;const THRESHOLD=.5;function processElement(e){let{adjacencyMatrix:t,features:r}=addEdgesFeatures(e,GRAPH_CUT_OFF);return{adjacencyMatrix:t,features:r}}function predictAds(e,t){let r=(debug()?log:()=>{}).bind(null,\"hide-if-graph-matches\");let n=DOM.Document.$$(e);for(let e of n){if(t.has(e))continue;if(DOM.HTMLElement.getInnerText(e)==\"\")continue;t.add(e);let n=processElement(e);let{mark:o,end:l}=profile(`ml:inference:${randomId()}`);o();let i={type:\"ewe:ml-inference\",inputs:[{data:[n.adjacencyMatrix],preprocess:[{funcName:\"padAdjacency\",args:GRAPH_CUT_OFF},{funcName:\"unstack\"},{funcName:\"localPooling\"},{funcName:\"stack\"}]},{data:[n.features],preprocess:[{funcName:\"padFeatures\",args:GRAPH_CUT_OFF},{funcName:\"cast\",args:\"float32\"}]}],model:\"hideIfGraphMatches\"};let a=function(t){if(!t)return;let n=utils.Object.values(t);if(!utils.Array.some(n,(e=>e>0)))r(\"Error: ML prediction results are corrupted\");let o=utils.Array.reduce(n,((e,t)=>e+t),0);let l=utils.Array.map(n,(e=>e/o));let i=utils.Array.filter(l,((e,t)=>t%2==1)).map((e=>e>THRESHOLD));if(i[0]){r(\"Detected ad: \"+DOM.HTMLElement.getInnerText(e));hideElement(e)}};if(context.webext.isExtensionContext){context.webext.chrome.runtime.sendMessage(i).then((e=>{if(e){a(e);r(e)}else{i.type=\"ml.inference\";context.webext.chrome.runtime.sendMessage(i).then(a).catch(r)}l(true)})).catch(r)}}}class GraphNode{constructor(e,t){this.tag=e;this.attributes=t;this.children=[];this.elementHidden=false;this.elementBlocked=false;this.filter=null;this.requestType=null;this.height=0;this.width=0;this.cssSelectors=null}addChild(e){utils.Array.push(this.children,e)}}const IMPORTANT_NODE_ATTRIBUTES=[\"style\"];function cloneObject(e){let t={};for(let r in e){if(e[r])t[r]=e[r]}return t}function addEdgesFeatures(e,t){let r=new Array$1(t);for(let e=0;e<t;e++)r[e]=new Array$1(t).fill(0);let n=r;let o=[];let l=0;function i(e,r){if(l>=t)return;let a={};for(let t of DOM.Element.getAttributes(e))a[DOM.Attr.getName(t)]=DOM.Attr.getValue(t);for(let t of IMPORTANT_NODE_ATTRIBUTES)a[t]=cloneObject(e[t]);let s=new GraphNode(e.tagName,a);s.cssSelectors=getComputedStyle(e).cssText;s.height=e.clientHeight;s.width=e.clientWidth;s.nodeId=l;l+=1;if(r!==null){n[r.nodeId][s.nodeId]=1;n[s.nodeId][r.nodeId]=1}if(r==null){s.nodeLevel=0;s.parentNodeId=0;s.siblings=0}else{s.nodeLevel=r.nodeLevel+1;s.parentNodeId=r.nodeId;s.siblings=r.children.length}s.numChildren=e.children.length;if(s.attributes.hasOwnProperty(\"src\")&&s.attributes[\"src\"]!==undefined){s.attributes[\"src_level\"]=0}else if(r!==null&&Object.values(r.attributes).length!==0&&r.attributes.hasOwnProperty(\"src\")&&r.attributes[\"src\"]!==undefined){s.attributes[\"src\"]=r.attributes[\"src\"];s.attributes[\"src_level\"]=r.attributes[\"src_level\"]+1;s[\"requestType\"]=r[\"requestType\"]}s.features=(new featureGenerator).getNodeFeatures(s,location.href,true,true,true,true);o.push(s.features);for(let t of e.children)i(t,s)}i(e,null);return{adjacencyMatrix:n,features:o}}let eye=function(e){const t=utils.Array.apply(null,new Array$1(e));return t.map((function(e,r){return t.map((function(e,t){return r===t?1:0}))}))};const DISPLAY_ATTR_MAP={none:1,inline:2,block:3,\"inline-block\":4,inherit:5};const ONE_HOT_DISPLAY_LEN=5;const NUM_CSS_SELECTORS=55;const CSS_COLORS=[\"background-color\",\"border-bottom-color\",\"border-left-color\",\"border-right-color\",\"border-top-color\",\"color\",\"outline-color\",\"text-decoration\",\"text-decoration-color\",\"column-rule-color\",\"-webkit-text-emphasis-color\",\"-webkit-text-fill-color\",\"-webkit-text-stroke-color\",\"caret-color\"];const CSS_PIXELS=[\"border-bottom-width\",\"height\",\"min-height\",\"min-width\",\"padding-bottom\",\"padding-left\",\"padding-right\",\"padding-top\",\"width\"];const CSS_ORIGINS=[\"perspective-origin\",\"transform-origin\"];const REQUEST_TYPES=[\"script\",\"subdocument\",\"image\",\"xmlhttprequest\",\"font\",\"document\",\"stylesheet\",\"other\",\"ping\",\"websocket\",\"media\",\"object\"];let requestTypesDict={};const reqtypeVEC=eye(REQUEST_TYPES.length);for(let e in REQUEST_TYPES)requestTypesDict[REQUEST_TYPES[e]]=reqtypeVEC[e];const URL_CHARS=\" abcdefghijklmnopqrstuvwxyz1234567890:;/?!=+.,()[]-`*_|~\".split(\"\");let wordIndex={};let charEncoderIndex=1;URL_CHARS.forEach((e=>{wordIndex[e]=charEncoderIndex;charEncoderIndex+=1}));let featureGenerator=function(){let e=function(e,t){utils.Array.map(t,(t=>utils.Array.push(e,t)))};let t=function(t,r){let n=[];t=t.split(\"\");t.forEach((e=>{utils.Array.push(n,wordIndex.hasOwnProperty(e)?wordIndex[e]:-1)}));if(n.length>r)return n.slice(-r);e(n,new Array$1(r-n.length).fill(0));return n};let r=function(e,r=8){let n=e[\"tag\"].toLowerCase();let o=t(n,r);return o};let n=function(e,t,r){let n=0;let o=0;let l=0;let i=e[\"attributes\"];if(i!==undefined&&i.hasOwnProperty(r)){let e=i[r].toLowerCase();o=1;if(e.startsWith(\"http\")==true)n=1;let a=e.split(\"/\");let s=a[2];if(s!==t)l=1}return[o,n,l]};let o=function(e){let t=/rgba?\\((\\d+), (\\d+), (\\d+)\\)/g;let r=t.exec(e);if(r){return[parseFloat$1(r[1]),parseFloat$1(r[2]),parseFloat$1(r[3])]}return[0,0,0]};let l=function(e){let t=/(\\d*?\\.?\\d*)px/g;let r=t.exec(e);if(r)return[parseFloat$1(r[1])];return[0]};let i=function(e){let t=/(\\d*?\\.?\\d*)px (\\d*?\\.?\\d*)px/g;let r=t.exec(e);if(r)return[parseFloat$1(r[1]),parseFloat$1(r[2])];return[0,0]};let a=function(t){let r=t[\"cssSelectors\"];if(!r)return new Array$1(NUM_CSS_SELECTORS).fill(0);let n={};let a=r.split(\"; \");for(let e in a){let t=a[e].split(\":\");let r=t[0];let o=t[1];if(r!==undefined&&o!==undefined)n[r.trim()]=o.trim()}let s=[];for(let t in CSS_COLORS){let r=n.hasOwnProperty(CSS_COLORS[t])?o(n[CSS_COLORS[t]]):[0,0,0];e(s,r)}for(let t in CSS_PIXELS){let r=n.hasOwnProperty(CSS_PIXELS[t])?l(n[CSS_PIXELS[t]]):[0];e(s,r)}for(let t in CSS_ORIGINS){let r=n.hasOwnProperty(CSS_ORIGINS[t])?i(n[CSS_ORIGINS[t]]):[0,0];e(s,r)}return s};let s=function(t){let r=t.hasOwnProperty(\"attributes\")?t[\"attributes\"]:{};let n=r.hasOwnProperty(\"style\")?r[\"style\"]:{};let o=n.hasOwnProperty(\"offsetHeight\")?n[\"offsetHeight\"]:\"0\";if(o)o=parseFloat$1(o.trim());let l=n.hasOwnProperty(\"offsetWidth\")?n[\"offsetWidth\"]:\"0\";if(l)l=parseFloat$1(l.trim());let i=n.hasOwnProperty(\"display\")?n[\"display\"]:\"-1\";if(i)i.trim().toLowerCase();i=DISPLAY_ATTR_MAP.hasOwnProperty(i)?DISPLAY_ATTR_MAP[i]:0;let a=new Array$1(ONE_HOT_DISPLAY_LEN).fill(0);if(i>0)a[i-1]=1;let s=[o,l];e(s,a);let u=n.hasOwnProperty(\"font-size\")?n[\"font-size\"]:0;if(u)u=parseFloat$1(u.trim().toLowerCase().replace(\"px\",\"\"));s.push(u);return s};this.getNodeFeatures=function(o,l,i=true,u=false,p=false,d=false){let c=[];if(i==true){utils.Array.push(c,o.nodeId);utils.Array.push(c,o.parentNodeId);utils.Array.push(c,o.siblings);e(c,r(o));utils.Array.push(c,o.nodeLevel);utils.Array.push(c,o.numChildren);let t=o.hasOwnProperty(\"requestType\")?o[\"requestType\"]:null;if(t!==null)t=t.toLowerCase();let n=new Array$1(REQUEST_TYPES.length).fill(0);if(t!==null&&requestTypesDict.hasOwnProperty(t))n=requestTypesDict[t];e(c,n)}if(u==true){let r=o.hasOwnProperty(\"attributes\")?o[\"attributes\"]:undefined;let i=\"\";if(r!=undefined&&r.hasOwnProperty(\"src\")){i=r[\"src\"];i=i.trim().toLowerCase()}e(c,t(i,256));e(c,n(o,l,\"src\"));let a=\"\";if(r!=undefined&&r.hasOwnProperty(\"href\")){a=r[\"href\"];a=a.trim().toLowerCase()}e(c,t(a,256));e(c,n(o,l,\"href\"));let s=\"\";if(r!=undefined&&r.hasOwnProperty(\"id\")){s=r[\"id\"];s=s.trim().toLowerCase();s=s.replace(/[!\"'\\(\\)\\*,\\-\\.\\/:;\\?\\[\\\\\\]\\^_`\\{\\|\\}~ ]/g,\" \").replace(/\\s+/g,\" \")}e(c,t(s,16));let u=\"\";if(r!=undefined&&r.hasOwnProperty(\"class\")){u=r[\"class\"];u=u.trim().toLowerCase();u=u.replace(/[!\"'\\(\\)\\*,\\-\\.\\/:;\\?\\[\\\\\\]\\^_`\\{\\|\\}~ ]/g,\" \").replace(/\\s+/g,\" \")}e(c,t(u,16))}if(p==true)e(c,s(o));if(d==true)e(c,a(o));return c}};const snippets={\"hide-if-matches-xpath\":hideIfMatchesXPath,log:log,profile:setProfile,debug:setDebug,\"hide-if-contains\":hideIfContains,\"hide-if-contains-visible-text\":hideIfContainsVisibleText,\"hide-if-contains-and-matches-style\":hideIfContainsAndMatchesStyle,\"hide-if-has-and-matches-style\":hideIfHasAndMatchesStyle,\"hide-if-labelled-by\":hideIfLabelledBy,\"hide-if-contains-image-hash\":hideIfContainsImageHash,\"hide-if-contains-image\":hideIfContainsImage,\"hide-if-graph-matches\":hideIfGraphMatches,\"simulate-event-poc\":simulateEvent};exports.snippets=snippets;\n","injectedList":["abort-current-inline-script","abort-on-iframe-property-read","abort-on-iframe-property-write","abort-on-property-read","abort-on-property-write","cookie-remover","debug","freeze-element","hide-if-shadow-contains","json-override","json-prune","override-property-read","prevent-listener","strip-fetch-query-parameter","trace"]}