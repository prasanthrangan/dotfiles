var VaultDeviceLimitNotificationDialog=function(e){Dialog.call(this,e,{dynamicHeight:!0,buttonsInsideContent:!1,closeButtonEnabled:!1,hidePreviousDialogs:!0,hideHeader:!0,hideButtons:!0,overlayDialog:!0})};VaultDeviceLimitNotificationDialog.prototype=Object.create(Dialog.prototype),(VaultDeviceLimitNotificationDialog.prototype.constructor=VaultDeviceLimitNotificationDialog).prototype.initialize=function(e){Dialog.prototype.initialize.apply(this,arguments),function(t){var e=864e5,i=14*e,s=28*e,a=bg.get("g_device_limit_releaseTS"),o=new Date,n=$("#moreThan15Days"),r=$("#moreThan15dDysTitle"),l=$("#moreThan15DaysImg"),c=document.getElementById("moreThan15DaysText1"),g=document.getElementById("moreThan15DaysText2"),u=document.getElementById("moreThan15DaysText3"),m=$("#lessThan15Days"),d=$("#lessThan15DaysTitle"),p=$("#lessThan15DaysImg"),y=document.getElementById("lessThan15DaysText1"),h=bg.get("g_uid")+"_deviceLimitNotificationData";function D(e){bg.localStorage_setItem(h,JSON.stringify({lastShown:(new Date).getTime()})),bg.setDeviceLimitNotification(!1),t.close(!0),bg.sendLpImprove("ipm_dismissed",{"Message Title":e,"Message CampaignId":"Multi-Device Paywall",Source:"Vault Pop Up"})}function b(e){bg.localStorage_setItem(h,JSON.stringify({lastShown:(new Date).getTime()})),bg.setDeviceLimitNotification(!1),t.close(!0),reduxApp&&reduxApp.setExpiredFamiliesPurchaseFlowType(LPProxy.getFamilyMemberType(),"Multi Device Paywall"),bg.sendLpImprove("ipm_engage",{"Message Title":e,"Message CampaignId":"Multi-Device Paywall",Source:"Vault Pop Up"})}n.hide(),m.hide();var v=$("#moreThan15DaysUpgradeBtn"),T=$("#lessThan15DaysUpgradeBtn"),f=$("#moreThan15DaysDismissBtn"),S=$("#moreThan15DaysClose"),L=$("#lessThan15DaysClose");o<a-s||a-s<=o&&o<a-i?(t.$element.addClass("moreThan15Days"),r.text(Strings.translateString("Important changes to LastPass Free")),l.attr("src","images/vault_4.0/multi_device_notification/device_types.svg"),c.innerHTML=Strings.translateString("Starting %sAugust 16, 2021%s, we're making some important changes to LastPass Free.","<b>","</b>"),g.innerHTML=Strings.translateString("Your Families subscription has expired, so you'll only be able to use LastPass for free on %sone type of device%s (either computers or mobile devices).","<b>","</b>"),u.innerHTML=Strings.translateString("To continue using LastPass everywhere, upgrade to LastPass Families or Premium.","<b>","</b>"),n.show(),bg.setDeviceLimitNotification(!0),v.click(function(){b("First Notice")}),S.click(function(){D("First Notice")}),f.click(function(){D("First Notice")}),bg.sendLpImprove("ipm_shown",{"Message Title":"First Notice","Message CampaignId":"Multi-Device Paywall",Source:"Vault Pop Up"})):a-i<=o&&o<a-e?(m.show(),t.$element.addClass("lessThan15Days"),d.text(Strings.translateString("Grab your 25% discount today!")),p.attr("src","images/vault_4.0/multi_device_notification/illustration_yellow.svg"),y.innerHTML=Strings.translateString("Your Families subscription has expired. Starting %sAugust 16, 2021%s, you'll only be able to use LastPass for free on %sone device type%s (either computers or mobile devices). To continue using LastPass everywhere, upgrade now at a 25%% discount.","<b>","</b>","<b>","</b>"),bg.setDeviceLimitNotification(!0),T.click(function(){b("Second Notice")}),L.click(function(){D("Second Notice")}),bg.sendLpImprove("ipm_shown",{"Message Title":"Second Notice","Message CampaignId":"Multi-Device Paywall",Source:"Vault Pop Up"})):a-e<=o&&o<a&&(m.show(),t.$element.addClass("lessThan15Days"),d.text(Strings.translateString("Grab your 25% discount today!")),p.attr("src","images/vault_4.0/multi_device_notification/illustration_red.svg"),y.innerHTML=Strings.translateString("Your Families subscription has expired. Starting %stomorrow%s you'll only be able to use LastPass for free on %sone device type%s (either computers or mobile devices). To continue using LastPass everywhere, upgrade now at a 25%% discount.","<b>","</b>","<b>","</b>"),bg.setDeviceLimitNotification(!0),T.click(function(){b("Final Notice")}),L.click(function(){D("Final Notice")}),bg.sendLpImprove("ipm_shown",{"Message Title":"Final Notice","Message CampaignId":"Multi-Device Paywall",Source:"Vault Pop Up"}))}(this)};