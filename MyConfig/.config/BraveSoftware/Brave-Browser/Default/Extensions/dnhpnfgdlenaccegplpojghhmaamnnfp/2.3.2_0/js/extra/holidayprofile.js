(()=>{const i={height:130,width:130,fps:30},e=[{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/ball_blink_1170_9_69.png",cols:9,frames:69},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/ball_jump_650_5_25.png",cols:5,frames:25},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/ball_wave_1170_9_78.png",cols:9,frames:78},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/cupcake_blink_1040_8_60.png",cols:8,frames:60},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/cupcake_jump_650_5_25.png",cols:5,frames:25},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/cupcake_wave_1040_8_54.png",cols:8,frames:54},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/monte_blink_1040_8_62.png",cols:8,frames:62},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/monte_wave_1040_8_57.png",cols:8,frames:57},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/runner_blink_1170_9_72.png",cols:9,frames:72},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/runner_present_1170_9_79.png",cols:9,frames:79},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/runner_wave_1170_9_68.png",cols:9,frames:68},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/zippy_blink_1040_8_59.png",cols:8,frames:59},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/zippy_shiv_910_7_46.png",cols:7,frames:46},{image:"https://steamcommunity-a.akamaihd.net/public/images/profile/holidayprofile/sprite_sheets/crushed/zippy_wave_910_7_45.png",cols:7,frames:45}];function t(i){const t=Math.floor(Math.random()*e.length),a=i.offset(),s=Math.floor(Math.random()*(i.width()-200))+50;new CAnimation(e[t],i,a.left+s,a.top-120).start()}ANIMATION_TICK_RATE=11,CAnimation=class{constructor(e,t,a,s){this._animation=$J.extend({},i,e),this._x=a,this._y=s,this._element=$J("<div/>",{class:"holidayprofile_animation"}),this._element.css("height",`${this._animation.height}px`),this._element.css("width",`${this._animation.width}px`),this._element.css("background",`url( '${this._animation.image}') no-repeat`),this._element.appendTo(t),this._element.offset({left:a,top:s}),this._element.show(),this._frame=0,this._start=0,this._rate=1e3/this._animation.fps,this._interval=0}start(){this._start=$J.now(),this._interval=window.setInterval($J.proxy(this.tick,this),ANIMATION_TICK_RATE),CAnimation.animationsRunning++}tick(){const i=$J.now()-this._start,e=Math.floor(i/this._rate);if(e!==this._frame)if(this._frame=e,this._frame<=this._animation.frames){const i=this._frame%this._animation.cols*this._animation.width,e=Math.floor(this._frame/this._animation.cols)*this._animation.height;this._element.css("background-position",`-${i}px -${e}px`)}else this.destroy()}destroy(){this._interval&&window.clearInterval(this._interval),this._element.remove(),CAnimation.animationsRunning--}},CAnimation.animationsRunning=0,function(){const i=$J(".profile_customization:not(.none_selected)");i.length&&(t($J(i[0])),i.click((function(){t($J(this))})),window.setInterval((()=>{if(0===CAnimation.animationsRunning&&Math.random()<.25){const e=window.scrollY,a=$J(window).height(),s=i.filter((function(){const i=$J(this).offset().top;return i>=e+100&&i<e+a}));if(s.length){const i=Math.floor(Math.random()*s.length);t($J(s[i]))}}}),1500))}()})();
//# sourceMappingURL=holidayprofile.js.map