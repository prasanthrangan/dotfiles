!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}({0:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return f}));const r=(e,t)=>e&&t?`${e}_${t}`:"",o=(e,t)=>`${e}#channel:${t}`,s=(e,t,n)=>{if(e.length<t.length)return"";const r=e.indexOf(t);if(-1===r)return"";const o=r+t.length,s=e.indexOf(n,o);let i="";return s!==o?i=-1!==s&&s>o||-1!==s?e.substring(o,s):e.substring(o):""===n&&(i=e.substring(o)),i},i=(e,t)=>{const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o])return!1}return!0},a=()=>"complete"===document.readyState&&"visible"===document.visibilityState,c=(e,t)=>`${e}: ${t.statusText} (${t.status})`,l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},u=/&(?:amp|lt|gt|quot|#(0+)?39);/g,d=RegExp(u.source),f=e=>e&&d.test(e)?e.replace(u,e=>l[e]||"'"):e||""},1:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));let r=null;const o=()=>r,s=e=>{r?e(!0):(chrome.runtime.sendMessage("mnojpmjdmbbfmejpflffifhffcmidifd",{type:"SupportsGreaselion"},(function(t){if(!chrome.runtime.lastError&&t&&t.supported)return r=chrome.runtime.connect("mnojpmjdmbbfmejpflffifhffcmidifd",{name:"Greaselion"}),void e(!0)})),setTimeout(()=>{if(!r)return r=chrome.runtime.connect("jidkidbbcafjabdphckchenhfomhnfma",{name:"Greaselion"}),void e(!0)},100))},i=(e,t)=>{e&&r&&r.postMessage({type:"GreaselionError",mediaType:e,data:{errorMessage:t}})}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(0);const o=["authorization","x-csrf-token","x-guest-token"],s=/[; ]_twitter_sess=([^\s;]*)/;let i=null,a={};const c=e=>{if(!e)return null;const t=e.match(s);return t?unescape(t[1]):null},l=()=>a,u=()=>a.authorization&&(a["x-csrf-token"]&&a["x-twitter-auth-type"]||a["x-csrf-token"]&&a["x-guest-token"]),d=e=>{if(!e)return!1;let t={};for(const n of e)if("Cookie"===n.name){const e=c(n.value);e!==i&&(i=e,t={})}else(o.includes(n.name)||n.name.startsWith("x-twitter-"))&&(t[n.name]=n.value);return"yes"!==t["x-twitter-active-user"]&&(t["x-twitter-active-user"]="yes"),!r.a(a,t)&&(a=t,!0)}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i}));const r=(e,t)=>e?t?`https://twitter.com/intent/user?user_id=${t}&screen_name=${e}`:`https://twitter.com/${e}/`:"",o=(e,t)=>{if(!e)return null;if(!t)return e.getAttribute("data-tweet-id");const n=e.querySelector("a[href*='/status/']");if(!n||!n.href)return null;const r=n.href.match(/status\/(\d+)/);return!r||r.length<2?null:r[1]},s=e=>{const t=new URLSearchParams(e.search);if(!t)return"";const n=t.get("screen_name");if(n)return unescape(n);if(!e.pathname)return"";const r=e.pathname.split("/").filter(e=>e);return r&&0!==r.length?r[0]:""},i=e=>{if(["/","/about","/home","/login","/logout","/messages","/privacy","/search","/settings","/tos"].includes(e))return!0;const t=["/account/","/compose/","/explore","/hashtag/","/i/","/messages/","/notifications","/settings/","/who_to_follow/","/?login","/?logout"];for(const n of t)if(e.startsWith(n))return!0;return!1}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);let o=!1,s=!1;const i=(e,t,n)=>{if(!e||o)return;o=!0;const s=Object(r.b)();s&&(s.postMessage({type:"RegisterOnCompletedWebRequest",mediaType:e,data:{urlPatterns:[t]}}),s.onMessage.addListener(e=>{switch(e.type){case"OnCompletedWebRequest":n(e.mediaType,e.details)}}))},a=(e,t,n,o)=>{if(!e||s)return;s=!0;const i=Object(r.b)();i&&(i.postMessage({type:"RegisterOnSendHeadersWebRequest",mediaType:e,data:{urlPatterns:t,extra:n}}),i.onMessage.addListener((function(e){if(e.data)switch(e.type){case"OnSendHeadersWebRequest":o(e.mediaType,e.data.details)}})))}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=()=>`url("data:image/svg+xml,${encodeURIComponent('<svg fill="inherit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.821 11.1L8.075 6.732v-2.38l4.917 8.195-2.17-1.447zm-6.03.965h5.397l1.752 1.168H2.747l2.043-1.168zm2.13-5.333L4.187 11.08l-1.983 1.133 4.717-7.861v2.38zm.577 1.251l1.841 2.928H5.657l1.841-2.928zm7.42 5.53L7.993 1.97c-.018-.03-.043-.054-.066-.08a.568.568 0 00-.429-.2.57.57 0 00-.43.2c-.022.026-.047.05-.064.08L.079 13.513a.59.59 0 00-.061.143c-.002.004-.002.007-.002.01a.571.571 0 00-.008.237.56.56 0 00.064.193c.01.017.023.029.034.044.02.026.037.055.06.077.021.022.047.038.071.057.017.011.031.025.048.035.027.016.056.025.085.036.018.007.035.016.054.022a.597.597 0 00.132.017c.006 0 .012.003.017.003h13.85a.576.576 0 00.495-.874z" fill="#6A7684"/></svg>')}")`},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(1),o=n(13),s=n(5);let i=0;const a=(e,t)=>new Promise((n,a)=>{if(!e||!t)return void a(new Error("Invalid parameters"));if(!Object(o.b)())return void a(new Error("Missing auth headers"));const c=Object(r.b)();if(!c)return void a(new Error("Invalid port"));if(0!==i&&Date.now()-i<3e3)return void a(new Error("Ignoring API request due to network throttle"));i=Date.now();const l=Object(o.a)();c.postMessage({type:"OnAPIRequest",mediaType:s.b,data:{name:e,url:t,init:{credentials:"include",headers:{...l},referrerPolicy:"no-referrer-when-downgrade",method:"GET",redirect:"follow"}}}),c.onMessage.addListener((function t(r){if(c){if(!r||!r.data)return c.onMessage.removeListener(t),void a(new Error("Invalid message"));if("OnAPIResponse"===r.type){if(!r.data.name||!r.data.response&&!r.data.error)return c.onMessage.removeListener(t),void a(new Error("Invalid message"));if(r.data.name===e)return c.onMessage.removeListener(t),r.data.error?void a(new Error(r.data.error)):void n(r.data.response)}}else a(new Error("Invalid port"))}))}),c=async e=>{if(!e)return Promise.reject(new Error("Invalid parameters"));return a("GetTweetDetails","https://api.twitter.com/1.1/statuses/show.json?id="+e)},l=async e=>{if(!e)return Promise.reject(new Error("Invalid parameters"));return a("GetUserDetails","https://api.twitter.com/1.1/users/show.json?screen_name="+e)}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1);let o=!1;const s=(e,t)=>{if(!e||o)return;o=!0;const n=Object(r.b)();n&&(n.postMessage({type:"RegisterOnUpdatedTab",mediaType:e}),n.onMessage.addListener((function(e){if(e.data)switch(e.type){case"OnUpdatedTab":t(e.data.changeInfo)}})))}},35:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(3),s=n(15),i=n(13),a=n(0),c=n(16),l=n(20),u=n(5),d=n(14);let f=null,p=!0;const m=e=>{if("Enter"!==e.key&&"Space"!==e.code)return;const t=e.target;if(!t)return;const n=t.shadowRoot;if(!n)return;const r=n.querySelector(".js-actionButton");r&&r.click()},g=(e,t,n)=>{const r=document.createElement("div");r.className="ProfileTweet-action js-tooltip action-brave-tip",r.style.display="inline-block",r.style.minWidth="80px",r.style.textAlign=n?"right":"start",r.setAttribute("role","button"),r.setAttribute("tabindex","0"),r.setAttribute("data-original-title",chrome.i18n.getMessage("twitterTipsHoverText")),r.addEventListener("keydown",m);const o=document.createElement("button");o.className="ProfileTweet-actionButton u-textUserColorHover js-actionButton",o.style.background="transparent",o.style.border="0",o.style.color="#657786",o.style.cursor="pointer",o.style.display="inline-block",o.style.fontSize="16px",o.style.lineHeight="1",o.style.outline="0",o.style.padding="0 2px",o.style.position="relative",o.type="button",o.onclick=function(n){if(p)((e,t)=>e&&t?l.a(t).then(e=>({user:{id:e.user.id_str,screenName:e.user.screen_name,fullName:e.user.name,favIconUrl:e.user.profile_image_url_https.replace("_normal","")},post:{id:t,timestamp:e.created_at,text:e.text}})).catch(e=>(console.error(`Failed to fetch tweet details for ${t}: ${e.message}`),Promise.reject(e))):Promise.reject(new Error("Invalid parameters")))(e,t).then(e=>{e&&h(e)}).catch(t=>{console.error(`Failed to fetch tweet metadata for ${e}:`,t)});else{const n=((e,t)=>{if(!e)return null;const n=e.getElementsByClassName("tweet-text");if(!n||0===n.length)return null;const r=n[0],o=e.getElementsByClassName("js-short-timestamp");if(!o||0===o.length)return null;const s=o[0].getAttribute("data-time")||"";return{user:{id:e.getAttribute("data-user-id")||"",screenName:e.getAttribute("data-screen-name")||"",fullName:e.getAttribute("data-name")||"",favIconUrl:""},post:{id:t,timestamp:s,text:r.innerText||""}}})(e,t);n&&h(n)}n.stopPropagation()},p&&e&&(e=>{if(!e||!location.pathname.includes("/status/"))return!1;return!!e.querySelector("a[href*='how-to-tweet']")})(e)&&(o.style.marginTop="12px");const s=document.createElement("div");s.className="IconContainer js-tooltip",s.style.display="inline-block",s.style.lineHeight="0",s.style.position="relative",s.style.verticalAlign="middle",o.appendChild(s);const i=document.createElement("span");i.className="Icon Icon--medium",i.style.background="transparent",i.style.content=c.a(),i.style.display="inline-block",i.style.fontSize="18px",i.style.fontStyle="normal",i.style.height="16px",i.style.marginTop="2px",i.style.position="relative",i.style.verticalAlign="baseline",i.style.width="16px",s.appendChild(i);const a=document.createElement("span");a.className="ProfileTweet-actionCount",a.style.color="#657786",a.style.display="inline-block",a.style.fontSize="12px",a.style.fontWeight="bold",a.style.lineHeight="1",a.style.marginLeft="6px",a.style.position="relative",a.style.verticalAlign="text-bottom",o.appendChild(a);const u=document.createElement("span");u.className="ProfileTweet-actionCountForPresentation",u.textContent=chrome.i18n.getMessage("twitterTipsIconLabel"),a.appendChild(u);const d=r.attachShadow({mode:"open"});d.appendChild(o);const f=document.createElement("style");return f.appendChild(document.createTextNode(".ProfileTweet-actionButton :hover { color: #6781db }")),d.appendChild(f),r},h=e=>{if(!e)return;const t=d.a(e.user.screenName,e.user.id),n=a.c(u.b,e.user.id),o=e.user.screenName,s=e.user.screenName,i=Object(r.b)();i&&i.postMessage({type:"TipUser",mediaType:u.b,data:{url:t,publisherKey:n,publisherName:o,publisherScreenName:s,favIconUrl:e.user.favIconUrl,postId:e.post.id,postTimestamp:e.post.timestamp,postText:e.post.text}})},y=()=>{clearTimeout(f),p=!0;let e=document.querySelectorAll('[role="article"]');0===e.length&&(e=document.querySelectorAll(".tweet"),p=!1);for(let t=0;t<e.length;++t){const n=d.c(e[t],p);if(!n)continue;let r;if(r=p?e[t].querySelector('[role="group"]'):e[t].querySelector(".js-actions"),!r)continue;if(0===r.getElementsByClassName("action-brave-tip").length){const o=(r.querySelectorAll(":scope > div").length||0)>3,s=g(e[t],n,o);r.appendChild(s)}}f=setTimeout(y,3e3)},b=(e,t)=>{e===u.b&&t&&t.requestHeaders&&i.c(t.requestHeaders)&&y()},v=e=>{e&&e.url&&y()};chrome.extension.inIncognitoContext||(Object(r.a)(e=>{e?(a.e()?y():document.addEventListener("readystatechange",(function(){a.e()&&y()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&y()})),s.b(u.b,u.d,u.c,b),o.a(u.b,v)):console.error("Failed to initialize communications port")}),console.info("Greaselion script loaded: twitterInlineTipping.ts"))},5:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return i}));const r="twitter",o="twitter.com",s=["https://api.twitter.com/1.1/*"],i=["requestHeaders","extraHeaders"]}});